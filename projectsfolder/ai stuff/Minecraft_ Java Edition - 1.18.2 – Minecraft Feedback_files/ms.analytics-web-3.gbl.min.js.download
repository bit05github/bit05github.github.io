/*!
 * 1DS JS SDK Analytics Web, 3.1.11
 * Copyright (c) Microsoft and contributors. All rights reserved.
 * (Microsoft Internal Only)
 */
!function(n){"use strict";var h="function",w="object",le="undefined",m="prototype",v="hasOwnProperty",y=Object,I=y[m],T=y.assign,C=y.create,E=y.defineProperty,A=I[v],P=null;function x(e){return void 0===e&&(e=!0),P&&e||(typeof globalThis!==le&&globalThis&&(P=globalThis),typeof self!==le&&self&&(P=self),typeof window!==le&&window&&(P=window),typeof global!==le&&global&&(P=global)),P}function _(e){throw new TypeError(e)}function O(e){if(C)return C(e);if(null==e)return{};var t=typeof e;function n(){}return t!==w&&t!==h&&_("Object prototype may only be an Object:"+e),n[m]=e,new n}(x()||{}).Symbol,(x()||{}).Reflect;var k=T||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])I[v].call(t,r)&&(e[r]=t[r]);return e},R=function(e,t){return(R=y.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[v](n)&&(e[n]=t[n])})(e,t)};function e(e,t){function n(){this.constructor=e}typeof t!==h&&null!==t&&_("Class extends value "+t+" is not a constructor or null"),R(e,t),e[m]=null===t?O(t):(n[m]=t[m],new n)}function D(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e}var ue={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},L="constructor",M="prototype",U="function",V="_dynInstFuncs",F="_isDynProxy",B="_dynClass",W="_dynInstChk",H=W,K="_dfOpts",z="_unknown_",fe="__proto__",de="useBaseInst",pe="setInstFuncs",ge=Object,he=ge.getPrototypeOf,me=0;function ve(e,t){return e&&ge[M].hasOwnProperty.call(e,t)}function ye(e){return e&&(e===ge[M]||e===Array[M])}function Ie(e){return ye(e)||e===Function[M]}function Te(e){if(e){if(he)return he(e);e=e[fe]||e[M]||(e[L]?e[L][M]:null);if(e)return e}return null}function Ce(e,t){var n=[],i=ge.getOwnPropertyNames;if(i)n=i(e);else for(var r in e)"string"==typeof r&&ve(e,r)&&n.push(r);if(n&&0<n.length)for(var a=0;a<n.length;a++)t(n[a])}function Ee(e,t,n){return t!==L&&typeof e[t]===U&&(n||ve(e,t))}function be(e){throw new TypeError("DynamicProto: "+e)}function Ne(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function Se(e,t){return ve(e,M)?e.name||t||z:((e||{})[L]||{}).name||t||z}function j(e,i,t,n){ve(e,M)||be("theClass is an invalid class definition.");var r,a,o,s,c,l,u=e[M],f=(function(e){if(he)for(var t=[],n=Te(i);n&&!Ie(n)&&!Ne(t,n);){if(n===e)return 1;t.push(n),n=Te(n)}}(u)||be("["+Se(e)+"] is not in class hierarchy of ["+Se(i)+"]"),null),e=(ve(u,B)?f=u[B]:(f="_dynCls$"+Se(e,"_")+"$"+me,me++,u[B]=f),j[K]),d=!!e[de],p=(d&&n&&n[de]!==undefined&&(d=!!n[de]),a={},Ce(r=i,function(e){!a[e]&&Ee(r,e,!1)&&(a[e]=r[e])}),a),d=(t(i,function(e,t,n,a){function i(e,t,n){var i,r=t[n];return r[F]&&a&&!1!==(i=e[V]||{})[H]&&(r=(i[t[B]]||{})[n]||r),function(){return r.apply(e,arguments)}}for(var r={},o=(Ce(n,function(e){r[e]=i(t,n,e)}),Te(e)),s=[];o&&!Ie(o)&&!Ne(s,o);)Ce(o,function(e){!r[e]&&Ee(o,e,!he)&&(r[e]=i(t,o,e))}),s.push(o),o=Te(o);return r}(u,i,p,d)),!!he&&!!e[pe]);o=u,t=f,s=i,c=p,e=!1!==(d=d&&n?!!n[pe]:d),ye(o)||(u=s[V]=s[V]||{},l=u[t]=u[t]||{},!1!==u[H]&&(u[H]=!!e),Ce(s,function(e){var n,i,r;Ee(s,e,!1)&&s[e]!==c[e]&&(l[e]=s[e],delete s[e],ve(o,e)&&(!o[e]||o[e][F])||(o[e]=(n=o,i=e,(r=function(){var e,t;return(function(e,t,n,i){var r=null;if(e&&ve(n,B)){var a=e[V]||{};if((r=(a[n[B]]||{})[t])||be("Missing ["+t+"] "+U),!r[W]&&!1!==a[H]){for(var o=!ve(e,t),s=Te(e),c=[];o&&s&&!Ie(s)&&!Ne(c,s);){var l=s[t];if(l){o=l===i;break}c.push(s),s=Te(s)}try{o&&(e[t]=r),r[W]=1}catch(u){a[H]=!1}}}return r}(this,i,n,r)||(typeof(t=(t=n[e=i])===r?Te(n)[e]:t)!==U&&be("["+e+"] is not a "+U),t)).apply(this,arguments)})[F]=1,r)))}))}j[K]={setInstFuncs:!0,useBaseInst:!0},(t=X=X||{})[t.CRITICAL=1]="CRITICAL",t[t.WARNING=2]="WARNING";var X,b={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},we="on",Ae="attachEvent",Pe="addEventListener",xe="toISOString",_e="endsWith",Oe="startsWith",ke="indexOf",Re="trim",t="toString",De=E,E=y.freeze,Le=y.keys,i=String[m],Me=i[Re],Ue=i[_e],Ve=i[Oe],Fe=Date[m][xe],i=Array.isArray,Be=I[t];function G(e){return e===undefined||typeof e===le}function q(e){return null===e||G(e)}function We(e){return!q(e)}function He(e,t){return!(!e||!A.call(e,t))}function Ke(e){return!(!e||typeof e!==w)}function N(e){return!(!e||typeof e!==h)}function ze(e,t,n,i){void 0===i&&(i=!1);var r=!1;if(!q(e))try{q(e[Pe])?q(e[Ae])||(e[Ae](we+t,n),r=!0):(e[Pe](t,n,i),r=!0)}catch(a){}return r}function Y(e,t){if(e)for(var n in e)A.call(e,n)&&t.call(e,n,e[n])}function Ge(e,t){var n=!1;if(e&&t&&!(n=e===t)){if(Ue)return e[_e](t);var i=e,r=t,e=!1,t=r?r.length:0,a=i?i.length:0;if(t&&a&&t<=a&&!(e=i===r)){for(var o=a-1,s=t-1;0<=s;s--){if(i[o]!=r[s])return!1;o--}e=!0}return e}return n}function qe(e,t){var n=!1;if(e&&t&&!(n=e===t)){if(Ve)return e[Oe](t);var i=e,r=t,e=!1,a=r?r.length:0;if(i&&a&&i.length>=a&&!(e=i===r)){for(var o=0;o<a;o++)if(i[o]!==r[o])return!1;e=!0}return e}return n}function r(e,t){return!(!e||!t||!~e.indexOf(t))}A[t].call(y);var J=i||function(e){return!(!e||"[object Array]"!==Be.call(e))};function je(e){return!(!e||"[object Error]"!==Be.call(e))}function Q(e){return"string"==typeof e}function Xe(e){return"number"==typeof e}function Ye(e){return"boolean"==typeof e}function Je(e){if(e){if(Fe)return e[xe]();var t;return e&&e.getUTCFullYear?(t=function(e){e=""+e;return 1===e.length?"0"+e:e},e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"):void 0}}function Z(e,t,n){var i=e.length;try{for(var r=0;r<i&&!(r in e&&-1===t.call(n||e,e[r],r,e));r++);}catch(a){}}function Qe(e,t,n){if(e){if(e[ke])return e[ke](t,n);var i=e.length,n=n||0;try{for(var r=Math.max(0<=n?n:i-Math.abs(n),0);r<i;r++)if(r in e&&e[r]===t)return r}catch(a){}}return-1}function Ze(e,t,n){if(e){if(e.map)return e.map(t,n);var i=e.length,r=n||e,a=Array(i);try{for(var o=0;o<i;o++)o in e&&(a[o]=t.call(r,e[o],e))}catch(s){}}return a}function $e(e,t,n){var i;if(e){if(e.reduce)return e.reduce(t,n);var r=e.length,a=0;if(3<=arguments.length)i=n;else{for(;a<r&&!(a in e);)a++;i=e[a++]}for(;a<r;)a in e&&(i=t(i,e[a],a,e)),a++}return i}function $(e){return e&&(Me&&e[Re]?e[Re]():e.replace?e.replace(/^\s+|\s+$/g,""):e)}var et=!{toString:null}.propertyIsEnumerable("toString"),tt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function nt(e){var t=typeof e;if(t===h||t===w&&null!==e||_("objKeys called on non-object"),!et&&Le)return Le(e);var n,i=[];for(n in e)e&&A.call(e,n)&&i.push(n);if(et)for(var r=tt.length,a=0;a<r;a++)e&&A.call(e,tt[a])&&i.push(tt[a]);return i}function s(e,t,n,i){if(De)try{var r={enumerable:!0,configurable:!0};return n&&(r.get=n),i&&(r.set=i),De(e,t,r),!0}catch(a){}return!1}t=E||function(e){return e};function it(){var e=Date;return e.now?e.now():(new e).getTime()}function S(e){return je(e)?e.name:""}function p(e,t,n,i,r){var a=n;!e||(a=e[t])===n||r&&!r(a)||i&&!i(n)||(e[t]=a=n)}function rt(e){return!e}function at(e){return!!e}function ot(e){throw Error(e)}function st(e){return e&&T?y(T({},e)):e}var ct="window",lt="document",ut="navigator",ft="location",dt="console",pt="performance",gt="JSON",ht="crypto",mt="msCrypto",vt="msie",yt="trident/",It=null,Tt=null,Ct=!1,Et=null,bt=null;function Nt(e,t){var n,i=!1;if(e){try{(i=t in e)||(n=e[m])&&(i=t in n)}catch(r){}if(!i)try{i=!G((new e)[t])}catch(r){}}return i}function ee(e){var t=x();return t&&t[e]?t[e]:e===ct&&St()?window:null}function St(){return typeof window===w&&window}function te(){return St()?window:ee(ct)}function ne(){return typeof document===w&&document?document:ee(lt)}function wt(){return!(typeof navigator!==w||!navigator)}function At(){return wt()?navigator:ee(ut)}function Pt(e){if(e&&Ct){e=ee("__mockLocation");if(e)return e}return typeof location===w&&location?location:ee(ft)}function xt(){return ee(pt)}function _t(){return typeof JSON===w&&JSON||null!==ee(gt)}function Ot(){return _t()?JSON||ee(gt):null}function kt(){var e=At();return!(!e||!e.product)&&"ReactNative"===e.product}function Rt(){var e=At();return!e||e.userAgent===Tt&&null!==It||(e=((Tt=e.userAgent)||"").toLowerCase(),It=r(e,vt)||r(e,yt)),It}function ie(e){var t=Object[m].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":_t()&&(n=Ot().stringify(e)),t+n}function Dt(){return bt=null===bt?wt()&&!!At().sendBeacon:bt}function Lt(){return Et=null===Et&&(Et="undefined"!=typeof XDomainRequest)&&Mt()?Et&&!Nt(ee("XMLHttpRequest"),"withCredentials"):Et}function Mt(){var e=!1;try{e=!!ee("XMLHttpRequest")}catch(t){}return e}var Ut,Vt=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],Ft=null;function Bt(e){var t=Ft;return(t=t||!0===e.disableDbgExt?t:Ft||(e=ee("Microsoft"),Ft=e?e.ApplicationInsights:Ft))?t.ChromeDbgExt:null}function Wt(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function Ht(e,t){var n,i=typeof console!==le?console:ee(dt);i&&(n="log",N(i[n=i[e]?e:n])&&i[n](t))}zt.dataType="MessageData";var Kt=zt;function zt(e,t,n,i){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;n="",_t()&&(n=Ot().stringify(i)),e=(t?" message:"+Wt(t):"")+(i?" props:"+Wt(n):"");this.message+=e}function Gt(e,t){return(e||{}).logger||new qt(t)}var qt=function nc(i){this.identifier="DiagnosticLogger",this.queue=[];var r=0,s={};j(nc,this,function(a){function e(e,t){e=i[e];return q(e)?t:e}function o(e,t){var n=Bt(i);n&&n.diagLog&&n.diagLog(e,t)}q(i)&&(i={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,i,r){t=new Kt(t,n,r=void 0!==r&&r,i);if(a.enableDebugExceptions())throw t;n=e===X.CRITICAL?"errorToConsole":"warnToConsole";G(t.message)?o("throw"+(e===X.CRITICAL?"Critical":"Warning"),t):(i=a.consoleLoggingLevel(),r?(r=+t.messageId,!s[r]&&e<=i&&(a[n](t.message),s[r]=!0)):e<=i&&a[n](t.message),a.logInternalMessage(e,t))},a.warnToConsole=function(e){Ht("warn",e),o("warning",e)},a.errorToConsole=function(e){Ht("error",e),o("error",e)},a.resetInternalMessageCount=function(){r=0,s={}},a.logInternalMessage=function(e,t){var n,i;r>=a.maxInternalMessageLimit()||(i=!0,n="AITR_"+t.messageId,s[n]?i=!1:s[n]=!0,i&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),r++,o(e===X.CRITICAL?"error":"warn",t)),r===a.maxInternalMessageLimit()&&(i=new Kt(b.MessageLimitPerPVExceeded,n="Internal events throttle limit per PageView reached for this app.",!1),a.queue.push(i),e===X.CRITICAL?a.errorToConsole(n):a.warnToConsole(n))))}})},jt=(Xt.ParentContextKey="parent",Xt.ChildrenContextKey="childEvts",Xt);function Xt(e,r,t){var n,a=this,o=!1;a.start=it(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},N(r)&&(o=s(a,"payload",function(){return!n&&N(r)&&(n=r(),r=null),n})),a.getCtx=function(e){return e?(e===Xt.ParentContextKey||e===Xt.ChildrenContextKey?a:a.ctx||{})[e]:null},a.setCtx=function(e,t){e&&(e===Xt.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===Xt.ChildrenContextKey?a[e]=t:(a.ctx=a.ctx||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(Xt.ChildrenContextKey);if(J(t))for(var n=0;n<t.length;n++){var i=t[n];i&&(e+=i.time)}a.time=it()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&N(r)&&(a.payload=r())}}var Yt=function ic(t){this.ctx={},j(ic,this,function(n){n.create=function(e,t,n){return new jt(e,t,n)},n.fire=function(e){e&&(e.complete(),t&&N(t.perfEvent)&&t.perfEvent(e))},n.setCtx=function(e,t){e&&((n.ctx=n.ctx||{})[e]=t)},n.getCtx=function(e){return(n.ctx||{})[e]}})},Jt="CoreUtils.doPerf";function re(e,t,n,i,r){if(e)if(e=N(e.getPerfMgr)?e.getPerfMgr():e){var a,o=void 0,s=e.getCtx(Jt);try{if(o=e.create(t(),i,r))return s&&o.setCtx&&(o.setCtx(jt.ParentContextKey,s),s.getCtx&&s.setCtx&&((a=s.getCtx(jt.ChildrenContextKey))||(a=[],s.setCtx(jt.ChildrenContextKey,a)),a.push(o))),e.setCtx(Jt,o),n(o)}catch(c){o&&o.setCtx&&o.setCtx("exception",c)}finally{o&&e.fire(o),e.setCtx(Jt,s)}}return n()}var Qt=function(r,t){var a=this,o=null,s=N(r.processTelemetry),c=N(r.setNextPlugin);a._hasRun=!1,a.getPlugin=function(){return r},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processTelemetry=function(n,i){i=i||t;var e=r?r.identifier:"TelemetryPluginChain";re(i?i.core():null,function(){return e+":processTelemetry"},function(){if(r&&s){a._hasRun=!0;try{i.setNext(o),c&&r.setNextPlugin(o),o&&(o._hasRun=!1),r.processTelemetry(n,i)}catch(t){var e=o&&o._hasRun;o&&e||i.diagLog().throwInternal(X.CRITICAL,b.PluginException,"Plugin ["+r.identifier+"] failed during processTelemetry - "+ie(t)),o&&!e&&o.processTelemetry(n,i)}}else o&&(a._hasRun=!0,o.processTelemetry(n,i))},function(){return{item:n}},!n.sync)}};function Zt(e,t){var n=[];if(e&&0<e.length)for(var i=null,r=0;r<e.length;r++){var a=e[r];a&&N(a.processTelemetry)&&(a=new Qt(a,t),n.push(a),i&&i.setNext(a),i=a)}return 0<n.length?n[0]:null}var $t=function rc(e,r,n,t){var i,a,o,s,c=this,l=null;null!==t&&(e&&N(e.getPlugin)?l=function(e,t,n){var i=[],r=!n;if(e)for(;e;){var a=e.getPlugin();!r&&a!==n||(r=!0,i.push(a)),e=e.getNext()}return r||i.push(n),Zt(i,t)}(e,c,t||e.getPlugin()):t?(i=c,o=e,s=!1,(a=t)&&e&&(o=[],Z(e,function(e){!s&&e!==a||(s=!0,o.push(e))})),a&&!s&&(o=o||[]).push(a),l=Zt(o,i)):G(t)&&(l=Zt(e,c))),c.core=function(){return n},c.diagLog=function(){return Gt(n,r)},c.getCfg=function(){return r},c.getExtCfg=function(e,t){var n,i;return void 0===t&&(t={}),(n=r&&(i=r.extensionConfig)&&e?i[e]:n)||t},c.getConfig=function(e,t,n){void 0===n&&(n=!1);var i,e=c.getExtCfg(e,null);return e&&!q(e[t])?i=e[t]:r&&!q(r[t])&&(i=r[t]),q(i)?n:i},c.hasNext=function(){return null!=l},c.getNext=function(){return l},c.setNext=function(e){l=e},c.processNext=function(e){var t=l;t&&(l=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(e,t){return new rc((e=void 0===e?null:e)||l,r,n,t)}},en="extensionConfig",tn="getPlugin",i=(nn.prototype.initialize=function(e,t,n,i){this._baseTelInit(e,t,n,i)},nn);function nn(){var a=this,o=!1,s=null,c=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){c=e},a.processNext=function(e,t){t?t.processNext(e):c&&N(c.processTelemetry)&&c.processTelemetry(e,null)},a._getTelCtx=function(e){var t,e=e=void 0===e?null:e;return e||(t=s||new $t(null,{},a.core),e=c&&c[tn]?t.createNew(null,c[tn]):t.createNew(null,c)),e},a._baseTelInit=function(e,t,n,i){e&&p(e,en,[],null,q),!i&&t&&(i=t.getProcessTelContext().getNext());var r=c;c&&c[tn]&&(r=c[tn]()),a.core=t,s=new $t(i,e,t,r),o=!0}}var rn="processTelemetry",an="priority",on="setNextPlugin",sn="isInitialized";function cn(t,n){for(var e=[],i=null,r=t.getNext();r;){var a=r.getPlugin();a&&(i&&N(i[on])&&N(a[rn])&&i[on](a),N(a[sn])&&a[sn]()||e.push(a),i=a,r=r.getNext())}Z(e,function(e){e.initialize(t.getCfg(),t.core(),n,t.getNext())})}function ln(e){return e.sort(function(e,t){var n=0,i=N(t[rn]);return N(e[rn])?n=i?e[an]-t[an]:1:i&&(n=-1),n})}e(dn,un=i),dn._staticInit=(s(E=dn.prototype,"ChannelControls",E.getChannelControls),void s(E,"channelQueue",E.getChannelControls));var un,fn=dn;function dn(){var c,i=un.call(this)||this;function l(e){e&&0<e.length&&(Z(e=e.sort(function(e,t){return e.priority-t.priority}),function(e){e.priority<500&&ot("Channel has invalid priority"+e.identifier)}),c.push(e))}return i.identifier="ChannelControllerPlugin",i.priority=500,j(dn,i,function(o,s){o.setNextPlugin=function(e){},o.processTelemetry=function(t,n){c&&Z(c,function(e){0<e.length&&i._getTelCtx(n).createNew(e).processNext(t)})},o.getChannelControls=function(){return c},o.initialize=function(t,n,i){var e,r,a;o.isInitialized()||(s.initialize(t,n,i),e=(t||{}).channels,r=i,c=[],e&&Z(e,l),r&&(a=[],Z(r,function(e){500<e.priority&&a.push(e)}),l(a)),Z(c,function(e){return cn(new $t(e,t,n),i)}))}}),i}var pn="toGMTString",gn="toUTCString",hn="cookie",mn="expires",vn="enabled",yn="isCookieUseDisabled",In="disableCookiesUsage",Tn="_ckMgr",Cn="",En=null,bn=null,Nn=null,Sn=ne(),wn={},An={};function Pn(e){return!e||e.isEnabled()}function o(e,t){var n,i;return e?n=e.getCookieMgr():t&&(n=t.cookieCfg[Tn]||xn(t)),n||(e=(e||{}).logger,(i=xn[Tn]||An[Tn])||(i=xn[Tn]=xn(t,e),An[Tn]=i),n=i),n}function xn(e,r){p(n=(e=e||An).cookieCfg=e.cookieCfg||{},"domain",e.cookieDomain,We,q),p(n,"path",e.cookiePath||"/",null,q),q(n[vn])&&(t=void 0,G(e[yn])||(t=!e[yn]),G(e[In])||(t=!e[In]),n[vn]=t);var t,n,l=n,u=l.path||"/",f=l.domain,i=!1!==l[vn],d={isEnabled:function(){var e=i&&_n(r),t=An[Tn];return e&&t&&d!==t?Pn(t):e},setEnabled:function(e){i=!1!==e},set:function(e,t,n,i,r){var a,o,s,c=!1;return Pn(d)&&(a={},-1!=(s=(o=$(t||Cn)).indexOf(";"))&&(o=$(t.substring(0,s)),a=On(t.substring(1+s))),p(a,"domain",i||f,at,G),q(n)||(s=Rt(),G(a[mn])&&0<(t=it()+1e3*n)&&((i=new Date).setTime(t),p(a,mn,kn(i,s?pn:gn)||kn(i,s?pn:gn)||Cn,at)),s||p(a,"max-age",Cn+n,null,G)),(t=Pt())&&"https:"===t.protocol&&(p(a,"secure",null,null,G),(bn=null===bn?!Ln((At()||{}).userAgent):bn)&&p(a,"SameSite","None",null,G)),p(a,"path",r||u,null,G),(l.setCookie||Dn)(e,Rn(o,a)),c=!0),c},get:function(e){var t=Cn;return Pn(d)?(l.getCookie||function(e){var t,n=Cn;return Sn&&(t=Sn[hn]||Cn,Nn!==t&&(wn=On(t),Nn=t),n=$(wn[e]||Cn)),n})(e):t},del:function(e,t){return!!Pn(d)&&d.purge(e,t)},purge:function(e,t){var n,i=!1;return _n(r)&&((n={}).path=t||"/",n[mn]="Thu, 01 Jan 1970 00:00:01 GMT",t=n,Rt()||(t["max-age"]="0"),(l.delCookie||Dn)(e,Rn(Cn,t)),i=!0),i}};return d[Tn]=d}function _n(e){if(null===En){En=!1;try{En=(Sn||{})[hn]!==undefined}catch(t){e&&e.throwInternal(X.WARNING,b.CannotAccessCookie,"Cannot access document.cookie - "+S(t),{exception:ie(t)})}}return En}function On(e){var n={};return e&&e.length&&Z($(e).split(";"),function(e){var t;(e=$(e||Cn))&&(-1==(t=e.indexOf("="))?n[e]=null:n[$(e.substring(0,t))]=$(e.substring(1+t)))}),n}function kn(e,t){return N(e[t])?e[t]():null}function Rn(e,t){var n=e||Cn;return Y(t,function(e,t){n+="; "+e+(q(t)?Cn:"="+t)}),n}function Dn(e,t){Sn&&(Sn[hn]=e+"="+t)}function Ln(e){return!(!Q(e)||!r(e,"CPU iPhone OS 12")&&!r(e,"iPad; CPU OS 12")&&!(r(e,"Macintosh; Intel Mac OS X 10_14")&&r(e,"Version/")&&r(e,"Safari"))&&(!r(e,"Macintosh; Intel Mac OS X 10_14")||!Ge(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!r(e,"Chrome/5")&&!r(e,"Chrome/6")&&(!r(e,"UnrealEngine")||r(e,"Chrome"))&&!r(e,"UCBrowser/12")&&!r(e,"UCBrowser/11"))}var Mn="_notificationManager";function Un(e,t){return new Yt(t)}var Vn,Fn=function ac(e){this.listeners=[];var t=!!(e||{}).perfEvtsSendAll;j(ac,this,function(r){r.addNotificationListener=function(e){r.listeners.push(e)},r.removeNotificationListener=function(e){for(var t=Qe(r.listeners,e);-1<t;)r.listeners.splice(t,1),t=Qe(r.listeners,e)},r.eventsSent=function(t){Z(r.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(t)},0)})},r.eventsDiscarded=function(t,n){Z(r.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(t,n)},0)})},r.eventsSendRequest=function(n,i){Z(r.listeners,function(e){if(e&&e.eventsSendRequest)if(i)setTimeout(function(){return e.eventsSendRequest(n,i)},0);else try{e.eventsSendRequest(n,i)}catch(t){}})},r.perfEvent=function(n){!n||!t&&n.isChildEvt()||Z(r.listeners,function(e){if(e&&e.perfEvent)if(n.isAsync)setTimeout(function(){return e.perfEvent(n)},0);else try{e.perfEvent(n)}catch(t){}})}})},E=(e(Bn,Vn=function oc(){var t,l,u,n,i,f=!1;j(oc,this,function(c){c._extensions=[],l=new fn,c.logger=new qt({loggingLevelConsole:X.CRITICAL}),t=[],c.isInitialized=function(){return f},c.initialize=function(e,t,i,n){c.isInitialized()&&ot("Core should not be initialized more than once"),e&&!q(e.instrumentationKey)||ot("Please provide instrumentation key"),u=n,c[Mn]=n,c.config=e||{},n&&!0!==c.config.disableDbgExt&&n.addNotificationListener(function(e){if(!Ut){Ut={};for(var t=0;t<Vt.length;t++)Ut[Vt[t]]=function(t,n){return function(){var e=Bt(n);e&&(e=e.listener)&&e[t]&&e[t].apply(e,arguments)}}(Vt[t],e)}return Ut}(e)),c.config.enablePerfMgr&&p(c.config,"createPerfMgr",Un),e.extensions=q(e.extensions)?[]:e.extensions,e?!(r=e[en])&&q(r)&&(r=G(a)?{}:a,e[en]=r):r=G(a)?{}:a,r.NotificationManager=n,i&&(c.logger=i);var r,a=[],o=(a.push.apply(a,D(D([],t),e.extensions)),a=ln(a),[]),s={};Z(a,function(e){(q(e)||q(e.initialize))&&ot("Extensions must provide callback to initialize");var t=e.priority,n=e.identifier;e&&t&&(q(s[t])?s[t]=n:i.warnToConsole("Two extensions have same priority #"+t+" - "+s[t]+", "+n)),(!t||t<l.priority)&&o.push(e)}),a.push(l),o.push(l),a=ln(a),c._extensions=a,cn(new $t([l],e,c),a),cn(new $t(o,e,c),a),c._extensions=o,0===c.getTransmissionControls().length&&ot("No channels available"),f=!0,c.releaseQueue()},c.getTransmissionControls=function(){return l.getChannelControls()},c.track=function(e){p(e,"iKey",c.config.instrumentationKey,null,rt),p(e,"time",Je(new Date),null,rt),p(e,"ver","4.0",null,q),c.isInitialized()?c.getProcessTelContext().processNext(e):t.push(e)},c.getProcessTelContext=function(){var e=c._extensions,t=e;return e&&0!==e.length||(t=[l]),new $t(t,c.config,c)},c.getNotifyMgr=function(){return u||(u=O({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),c[Mn]=u),u},c.getCookieMgr=function(){return i=i||xn(c.config,c.logger)},c.setCookieMgr=function(e){i=e},c.getPerfMgr=function(){return n||c.config&&c.config.enablePerfMgr&&N(c.config.createPerfMgr)&&(n=c.config.createPerfMgr(c,c.getNotifyMgr())),n||null},c.setPerfMgr=function(e){n=e},c.eventCnt=function(){return t.length},c.releaseQueue=function(){0<t.length&&(Z(t,function(e){c.getProcessTelContext().processNext(e)}),t=[])}})}),Bn);function Bn(){var e=Vn.call(this)||this,i=0;return j(Bn,e,function(n,r){function t(e){var t=n.getNotifyMgr();t&&t.eventsDiscarded([e],ue.InvalidEvent)}n.initialize=function(e,t,n,i){r.initialize(e,t,n||new qt(e),i||new Fn(e))},n.track=function(e){re(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){if(null===e&&(t(e),ot("Invalid telemetry item")),q(e.name))throw t(e),Error("telemetry name required");r.track(e)},function(){return{item:e}},!e.sync)},n.addNotificationListener=function(e){var t=n.getNotifyMgr();t&&t.addNotificationListener(e)},n.removeNotificationListener=function(e){var t=n.getNotifyMgr();t&&t.removeNotificationListener(e)},n.pollInternalLogs=function(t){var e=n.config.diagnosticLogInterval;return e&&0<e||(e=1e4),i&&n.stopPollingInternalLogs(),i=setInterval(function(){var e=n.logger?n.logger.queue:[];Z(e,function(e){e={name:t||"InternalMessageId: "+e.messageId,iKey:n.config.instrumentationKey,time:Je(new Date),baseType:Kt.dataType,baseData:{message:e.message}};n.track(e)}),e.length=0},e)},n.stopPollingInternalLogs=function(){i&&(clearInterval(i),i=0)}}),e}var Wn=4294967296,Hn=4294967295,Kn=!1,zn=123456789,Gn=987654321;function qn(e){e<0&&(e>>>=0),zn=123456789+e&Hn,Gn=987654321-e&Hn,Kn=!0}function jn(){try{var e=2147483647&it();qn((Math.random()*Wn^e)+e)}catch(t){}}function Xn(e){return 0<e?Math.floor(Yn()/Hn*(e+1))>>>0:0}function Yn(e){var t=ee(ht)||ee(mt),t=t&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&Hn:Rt()?(Kn||jn(),Jn()&Hn):Math.floor(Wn*Math.random()|0);return e||(t>>>=0),t}function Jn(e){var t=((Gn=36969*(65535&Gn)+(Gn>>16)&Hn)<<16)+(65535&(zn=18e3*(65535&zn)+(zn>>16)&Hn))>>>0&Hn|0;return e||(t>>>=0),t}var Qn="visibilitychange",Zn="pagehide",$n="pageshow";function ei(e,t){var n=!1,i=te(),i=(i&&(n=ze(i,e,t),n=ze(i.body,e,t)||n),ne());return i&&ze(i,e,t)||n}function ti(e,t){return function a(e,t,n){var i,r=!1;return t&&e&&J(e)&&(i=[],Z(e,function(e){Q(e)&&(n&&-1!==Qe(n,e)?i.push(e):r=ei(e,t)||r)}),!r&&0<i.length&&(r=a(i,t))),r}(["beforeunload","unload","pagehide"],e,t)}function ni(n,e){var t=!1;return e&&-1!==Qe(e,Zn)||(t=ei(Zn,n)),!(t=(!e||-1===Qe(e,Qn))&&ei(Qn,function(e){var t=ne();n&&t&&"hidden"===t.visibilityState&&n(e)})||t)&&e?ni(n):t}function ii(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(si,function(e){var t=0|Xn(15);return("x"===e?t:3&t|8).toString(16)})}function ri(){var e=xt();return e&&e.now?e.now():it()}function ai(e){void 0===e&&(e=22);for(var t=Yn()>>>0,n=0,i="";i.length<e;)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++n&&(t=(Yn()<<2&4294967295|3&t)>>>0,n=0);return i}function oi(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=t[15&(e=Yn())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+(3&Yn())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)}var si=/[xy]/g,ci={NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32},ae={Normal:1,CostDeferred:2,RealTime:3,Immediate:4},oe=k(k({},b),{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}),li="1DS-Web-JS-3.1.11",ui="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",fi="withCredentials",di="timeout",pi=((_i={})[0]=0,_i[2]=6,_i[1]=1,_i[3]=7,_i[4098]=6,_i[4097]=1,_i[4099]=7,_i),gi=null,hi=!!ne(),mi=!!te();function se(e){return!(""===e||q(e))}function vi(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}function yi(e){return!!(e&&Xe(e)&&ae.Normal<=e&&e<=ae.Immediate)}function Ii(e,t,n){if(!t&&!se(t)||"string"!=typeof e)return null;e=typeof t;if("string"==e||"number"==e||"boolean"==e||J(t))t={value:t};else if("object"!=e||t.hasOwnProperty("value")){if(q(t.value)||""===t.value||!Q(t.value)&&!Xe(t.value)&&!Ye(t.value)&&!J(t.value))return null}else t={value:n?JSON.stringify(t):t};if(J(t.value)&&!wi(t.value))return null;if(!q(t.kind)){if(J(t.value)||!Si(t.kind))return null;t.value=t.value.toString()}return t}function Ti(e,t,n){var i=-1;return G(e)||(0<t&&(32===t?i=8192:t<=13&&(i=t<<5)),0<=n&&n<=9?(-1===i&&(i=0),i|=n):(t=pi[Pi(e)]||-1,-1!==i&&-1!==t?i|=t:6===t&&(i=t))),i}function Ci(e){return _n(null)?Ei(o(null),e):""}function Ei(e,t,n){var i;return void 0===n&&(n=!0),e&&(i=e.get(t),n&&i&&decodeURIComponent&&(i=decodeURIComponent(i))),i||""}function bi(e){void 0===e&&(e="D");var t=ii();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function ce(e,t,n,i,r){var a={},o=!1,s=0,c=arguments.length,l=Object[m],u=arguments;for("[object Boolean]"===l.toString.call(u[0])&&(o=u[0],s++);s<c;s++)Y(u[s],function(n,e){o&&e&&Ke(e)?J(e)?(a[n]=a[n]||[],Z(e,function(e,t){e&&Ke(e)?a[n][t]=ce(!0,a[n][t],e):a[n][t]=e})):a[n]=ce(!0,a[n],e):a[n]=e});return a}var Ni=ri;function Si(e){return e===ci.NotSet||e>ci.NotSet&&e<=ci.Pii_IPV4AddressLegacy||e===ci.CustomerContent_GenericContent}function wi(e){return 0<e.length}function Ai(e,t){e.timings=e.timings||{},e.timings.processTelemetryStart=e.timings.processTelemetryStart||{},e.timings.processTelemetryStart[t]=Ni()}function Pi(e){var t,n=0;return null!==e&&e!==undefined&&("string"==(t=typeof e)?n=1:"number"==t?n=2:"boolean"==t?n=3:t===w&&(n=4,J(e)?(n=4096,0<e.length&&(n|=Pi(e[0]))):He(e,"value")&&(n=8192|Pi(e.value)))),n}var xi,_i={Version:"3.1.11",FullVersionString:li,strUndefined:le,strObject:w,Undefined:le,arrForEach:Z,arrIndexOf:Qe,arrMap:Ze,arrReduce:$e,objKeys:nt,toISOString:Je,isReactNative:kt,isString:Q,isNumber:Xe,isBoolean:Ye,isFunction:N,isArray:J,isObject:Ke,strTrim:$,isDocumentObjectAvailable:hi,isWindowObjectAvailable:mi,isValueAssigned:se,getTenantId:vi,isBeaconsSupported:Dt,isUint8ArrayAvailable:function(){return gi=null===gi?!G(Uint8Array)&&!function(){var e=At();if(!G(e)&&e.userAgent)return!~(e=e.userAgent.toLowerCase()).indexOf("safari")&&!~e.indexOf("firefox")||~e.indexOf("chrome")?void 0:1}()&&!kt():gi},isLatency:yi,sanitizeProperty:Ii,getISOString:Je,useXDomainRequest:Lt,getCommonSchemaMetaData:Ti,cookieAvailable:_n,disallowsSameSiteNone:Ln,setCookie:function(e,t,n){_n(null)&&o(null).set(e,t,86400*n,null,"/")},deleteCookie:function(e){_n(null)&&o(null).del(e)},getCookie:Ci,createGuid:bi,extend:ce,getTime:Ni,isValueKind:Si,isArrayValid:wi,objDefineAccessors:s,addPageUnloadEventListener:ti,setProcessTelemetryTimings:Ai,addEventHandler:ei,getFieldValueType:Pi,strEndsWith:Ge,objForEachKey:Y},Oi={_canUseCookies:undefined,isTypeof:function(e,t){return typeof e===t},isUndefined:G,isNullOrUndefined:q,hasOwnProperty:He,isFunction:N,isObject:Ke,isDate:function(e){return!(!e||"[object Date]"!==Be.call(e))},isArray:J,isError:je,isString:Q,isNumber:Xe,isBoolean:Ye,toISOString:Je,arrForEach:Z,arrIndexOf:Qe,arrMap:Ze,arrReduce:$e,strTrim:$,objCreate:O,objKeys:nt,objDefineAccessors:s,addEventHandler:ei,dateNow:it,isIE:Rt,disableCookies:function(){o(null).setEnabled(!1)},newGuid:ii,perfNow:ri,newId:ai,randomValue:Xn,random32:Yn,mwcRandomSeed:function(e){e?qn(e):jn()},mwcRandom32:Jn,generateW3CId:oi},ki="version",Ri="properties";function Di(){var e=xi.call(this)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",j(Di,e,function(s,c){s.logger&&s.logger.queue||(s.logger=new qt({loggingLevelConsole:X.CRITICAL})),s.initialize=function(i,r,a,o){re(s,function(){return"AppInsightsCore.initialize"},function(){if(i){i.endpointUrl||(i.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var e=i.propertyStorageOverride;if(e&&(!e.getProperty||!e.setProperty))throw Error("Invalid property storage override passed.");i.channels&&Z(i.channels,function(e){e&&Z(e,function(e){e.identifier&&e.version&&(e=e.identifier+"="+e.version,s.pluginVersionStringArr.push(e))})})}s.getWParam=function(){return"undefined"!=typeof document?0:-1},r&&Z(r,function(e){e&&e.identifier&&e.version&&(e=e.identifier+"="+e.version,s.pluginVersionStringArr.push(e))}),s.pluginVersionString=s.pluginVersionStringArr.join(";");try{c.initialize(i,r,a,o),s.pollInternalLogs("InternalLog")}catch(n){var e=s.logger,t=ie(n);~t.indexOf("channels")&&(t+="\n - Channels must be provided through config.channels only!"),e.throwInternal(X.CRITICAL,oe.FailedToInitializeSDK,"SDK Initialization Failed - no telemetry will be sent: "+t)}},function(){return{config:i,extensions:r,logger:a,notificationManager:o}})},s.track=function(n){re(s,function(){return"AppInsightsCore.track"},function(){var e,t=n;t&&(t.timings=t.timings||{},t.timings.trackStart=Ni(),yi(t.latency)||(t.latency=ae.Normal),(e=t.ext=t.ext||{}).sdk=e.sdk||{},e.sdk.ver=li,(e=t.baseData=t.baseData||{})[Ri]||(e[Ri]={}),(e=e[Ri])[ki]||(e[ki]=""),""!==s.pluginVersionString&&(e[ki]=s.pluginVersionString)),c.track(t)},function(){return{item:n}},!n.sync)}}),e}e(Di,xi=E);var E=Di,Li=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function Mi(e,t){void 0===t&&(t=Li);var n=null;if(e)for(var i=e.split(","),r=0;r<i.length;r++)!function(e,t){if(void 0===t&&(t=Li),e&&!(e.length<4)){for(var n=!1,i=e.substring(0,3).toString().toUpperCase(),r=0;r<t.length;r++)if(t[r]+":"==i&&e.length<=256){n=!0;break}return n}}(i[r],t)||(n?n+=","+i[r]:n=i[r]);return n}Vi.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},Vi.prototype._getMetaDataFromDOM=function(e){var t={},n=ne();if(n)for(var i=n&&n.querySelectorAll("meta"),r=0;r<i.length;r++){var a=i[r];a.name&&!a.name.toLowerCase().indexOf(e)&&(t[a.name.replace(e,"")]=a.content)}return t},Vi.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=Mi(e,this.flightIdNameSpaces))},Vi.prototype._getAppExpId=function(){return this.appExpId},Vi.prototype._readExpIdFromCookie=function(){var e=Ei(this._cookieMgr,this.expIdCookieName);return this._setAppExpId(e),this._getAppExpId()},Vi.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},Vi.validateAppExpId=Mi,Vi._staticInit=void s(Vi.prototype,"expId",Vi.prototype.getExpId);var Ui=Vi;function Vi(e,t){this.core=t,this.appExpId=null,this.flightIdNameSpaces=Li.slice(0),this.expIdCookieName="Treatments",this._cookieMgr=o(t),this._propertiesConfig=e;var n,t=ne();t&&(n=t.documentElement,t&&(this.locale=n.lang)),this.env=e.env||this._getMetaDataFromDOM("awa-").env}var Fi=function(){},Bi=(Wi.prototype.getLocalId=function(){return this._customLocalId||(this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(e=Ei(this._cookieMgr,"MUID"))&&this.setLocalId("t:"+e),undefined);var e},Wi.prototype.setLocalId=function(e){this._customLocalId=e},Wi.cookieSeparator="|",Wi.userCookieName="ai_user",Wi._staticInit=void s(Wi.prototype,"localId",Wi.prototype.getLocalId,Wi.prototype.setLocalId),Wi);function Wi(e,t,n){this.core=n,this._propertiesConfig=t;t=this._cookieMgr=o(n,e);t&&t.isEnabled()&&(this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(n=Ei(t,"MUID"))&&this.setLocalId("t:"+n),this._propertiesConfig.enableApplicationInsightsUser&&((n=Ei(t,Wi.userCookieName))&&0<(n=n.split(Wi.cookieSeparator)).length&&(this.id=n[0]),this.id||(this.id=ai(e&&!G(e.idLength)?e.idLength:22),n=Je(new Date),this.accountAcquisitionDate=n,e=[this.id,n],n=this._propertiesConfig.cookieDomain||undefined,t.set(Wi.userCookieName,e.join(Wi.cookieSeparator),31536e3,n)))),"undefined"!=typeof navigator&&(this.locale=(e=navigator).userLanguage||e.language)}var Hi="([\\d,.]+)",Ki="Unknown",zi=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:"Edg/",b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],Gi=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function qi(e,t){return~t.indexOf(e)}Xi._staticInit=void s(Xi.prototype,"userConsent",Xi.prototype.getUserConsent);var ji=Xi;function Xi(e,t){var i=o(t),r=e||{};j(Xi,this,function(o){var e,t,n=Pt();n&&(e=n.hostname)&&(o.domain="file:"===n.protocol?"local":e),r.populateBrowserInfo&&(n=r.userAgent,e=(r.userAgentData||{}).brands,(t=At())&&(n=n||t.userAgent||"",e=e||(t.userAgentData||{}).brands),function(e,t){if(J(t))try{for(var n=0;n<Gi.length;n++){var i=function(e,t){for(var n=0;n<t.length;n++)if(e==t[n].brand)return t[n].version;return null}(Gi[n].br,t);if(i)return o.browser=Gi[n].b,o.browserVer=i}}catch(a){}var r;e&&(r=function(e){if(e)for(var t=0;t<zi.length;t++)if(qi(zi[t].ua,e))return zi[t].b;return Ki}(e),o.browser=r,o.browserVer=function(e){if("MSIE"!==r)return n=e,"Safari"===(t=r)?t="Version":"Edge"===t&&qi("Edg/",n)&&(t="Edg"),(i=n.match(RegExp(t+"/"+Hi)))||"Opera"===t&&(i=n.match(/OPR\/([\d,.]+)/))?i[1]:Ki;var t=e,n=t.match(/MSIE ([\d,.]+)/);if(n)return n[1];var i=t.match(/rv:([\d,.]+)/);return i?i[1]:void 0}(e))}(n,e),t={h:0,w:0},(n=te())&&n.screen&&(t.h=screen.height,t.w=screen.width),e=t,o.screenRes=e.w+"X"+e.h),o.getUserConsent=function(){return r.userConsented||!!Ei(i,r.userConsentCookieName||"MSCC")},o.getUserConsentDetails=function(){try{var e=r.callback;if(e&&e.userConsentDetails){var t=e.userConsentDetails();if(t)return JSON.stringify({Required:t.Required||!1,Analytics:t.Analytics||!1,SocialMedia:t.SocialMedia||!1,Advertising:t.Advertising||!1})}}catch(n){}return null},s(o,"userConsent",o.getUserConsent)})}var a={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},Yi={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},Ji="([\\d,.]+)",Qi="([\\d,_,.]+)",Zi="Unknown",$i=[{r:a.WINPHONE,os:"Windows Phone"},{r:a.WINRT,os:"Windows RT"},{r:a.WIN,os:"Windows"},{r:a.IOS,os:"iOS"},{r:a.ANDROID,os:"Android"},{r:a.LINUX,os:"Linux"},{r:a.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:a.OSX,os:"Mac OS X"}];function er(e,t){t=e.match(RegExp(t+" "+Ji));return t?Yi[t[1]]||t[1]:Zi}function tr(e){return~e.indexOf(".")?".":~e.indexOf("_")?"_":null}var nr=function(e){var t,n;e.populateOperatingSystemInfo&&(n=At()||{},t=e.userAgent||n.userAgent||"",e=e.userAgentData||n.userAgentData||{},t&&(n=function(e){for(var t=0;t<$i.length;t++){var n=$i[t];if(n.r&&e.match(n.r))return n.os;if(n.s&&~e.indexOf(n.s))return n.os}return Zi}(t.toLowerCase()),this.name=n,this.ver=function(e,t){if("Windows"===t)return er(e,"Windows NT");if("Android"===t)return er(e,t);if("Mac OS X"===t){var n=e.match(RegExp("Mac OS X "+Qi));if(n){n=n[1].replace(/_/g,".");if(n)return(i=tr(n))?n.split(i)[0]:n}return Zi}if("iOS"!==t)return Zi;var i=e.match(RegExp("OS "+Qi));if(i){n=i[1].replace(/_/g,".");if(n)return(t=tr(n))?n.split(t)[0]:n}return Zi}(t,n)),this.name&&this.name!==Zi||!Q(e.platform)||(this.name=e.platform))},ir=(rr.prototype.getMsfpc=function(){return Ei(this._cookieMgr,"MSFPC")},rr.prototype.getAnid=function(){return Ei(this._cookieMgr,"ANON").slice(0,34)},rr._staticInit=(s(rr.prototype,"msfpc",rr.prototype.getMsfpc),void s(rr.prototype,"anid",rr.prototype.getAnid)),rr);function rr(e,t){this.core=t,e.serviceName&&(this.serviceName=e.serviceName),this._cookieMgr=o(t)}var ar=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},or=function(){var e=(new Date).getTimezoneOffset(),t=0<(n=(e-(e=e%60))/60)?"-":"+",n=Math.abs(n),e=Math.abs(e);this.tz=t+(n<10?"0"+n:n.toString())+":"+(e<10?"0"+e:e.toString())},sr=function(){},cr=(lr.prototype.setId=function(e){this.customId=e},lr._staticInit=void s(lr.prototype,"id",lr.prototype.getId=function(){return Q(this.customId)?this.customId:this.automaticId},lr.prototype.setId),lr);function lr(){}var ur=function(e,t,n,i){e.enableApplicationInsightsTrace&&(this.traceId=t||oi(),this.parentId=n,this.name=i,(e=Pt())&&e.pathname&&(this.name=e.pathname))},fr=t({id:"id",ver:"ver",appName:"name",locale:"locale",expId:"expId",env:"env"}),dr=t({domain:"domain",browser:"browser",browserVer:"browserVer",screenRes:"screenRes",userConsent:"userConsent",consentDetails:"consentDetails"}),pr=t({locale:"locale",localId:"localId",id:"id"}),gr=t({osName:"name",ver:"ver"}),hr=t({ver:"ver",seq:"seq",installId:"installId",epoch:"epoch"}),mr=t({msfpc:"msfpc",anid:"anid",serviceName:"serviceName"}),vr=t({popSample:"popSample",eventFlags:"eventFlags"}),yr=t({tz:"tz"}),Ir=t({sessionId:"sesId"}),Tr=t({localId:"localId",deviceClass:"deviceClass",make:"make",model:"model"}),Cr=t({role:"role",roleInstance:"roleInstance",roleVer:"roleVer"}),Er=t({traceId:"traceID",traceName:"name",parentId:"parentID"}),c=t({UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SdkExt:"sdk",IntWebExt:"intweb",UtcExt:"utc",LocExt:"loc",CloudExt:"cloud"}),br="MicrosoftApplicationsTelemetryDeviceId";Ar.prototype.getSequenceId=function(){return++this._sequenceId};var Nr,Sr,wr=Ar;function Ar(e,t){this._sequenceId=0;var n,i,r,a=e.propertyStorageOverride,t=(this.seq=this._sequenceId,this.epoch=Yn(!1).toString(),o(t,e));t.isEnabled()||a?(e=t,r=br,e=(a?a.getProperty(r)||"":Ei(e,r))||ii(),r=t,n=br,i=e,a?a.setProperty(n,i):r.set(n,i,31536e3),this.installId=e):t.purge(br)}function Pr(){return Nr=Nr===undefined?!!_r(Sr.LocalStorage):Nr}function xr(){return Pr()?_r(Sr.LocalStorage):null}function _r(e){var t,n,i=null;try{var r=x();if(!r)return null;n=new Date,(i=e===Sr.LocalStorage?r.localStorage:r.sessionStorage)&&N(i.setItem)&&(i.setItem(n,n),t=i.getItem(n)!==n,i.removeItem(n),t&&(i=null))}catch(a){i=null}return i}function Or(e,t,n){var i=xr();if(null!==i)try{i.setItem(t,n)}catch(r){Nr=!1,e.throwInternal(X.CRITICAL,oe.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+r)}}function kr(e,t){var n=xr();if(null!==n)try{return n.getItem(t)}catch(i){Nr=!1,e.throwInternal(X.CRITICAL,oe.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+i)}return null}(a=Sr=Sr||{})[a.LocalStorage=0]="LocalStorage",a[a.SessionStorage=1]="SessionStorage",Dr.acquisitionSpan=864e5,Dr.renewalSpan=18e5,Dr.cookieUpdateInterval=6e4,Dr.cookieNameConst="ai_session";var Rr=Dr;function Dr(e,t){var c,l,u=Gt(e),f=o(e);j(Dr,this,function(o){var e,i={sessionRenewalMs:(e=t).sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix},sessionAsGuid:function(){return e.sessionAsGuid},idLength:function(){return e.idLength||22}};function r(e){var t,n,i=o.automaticSession,e=e.split("|");0<e.length&&i.setId(e[0]);try{1<e.length&&(t=+e[1],i.acquisitionDate=+new Date(t),i.acquisitionDate=0<i.acquisitionDate?i.acquisitionDate:0),2<e.length&&(n=+e[2],i.renewalDate=+new Date(n),i.renewalDate=0<i.renewalDate?i.renewalDate:0)}catch(r){u.throwInternal(X.CRITICAL,oe.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+r)}0===i.renewalDate&&u.throwInternal(X.WARNING,oe.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function a(){var e=o.automaticSession,t=(new Date).getTime(),n=o.config.sessionAsGuid();!G(n)&&n?Ye(n)?e.setId(bi()):e.setId(bi(n)):e.setId(ai(i&&i.idLength?i.idLength():22)),e.acquisitionDate=t,e.renewalDate=t,s(e.getId(),e.acquisitionDate,e.renewalDate),Pr()||u.throwInternal(X.WARNING,oe.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function s(e,t,n){var i=t+o.config.sessionExpirationMs(),r=n+o.config.sessionRenewalMs(),a=new Date,e=[e,t,n],t=(i<r?a.setTime(i):a.setTime(r),o.config.cookieDomain?o.config.cookieDomain():null);f.set(l(),e.join("|")+";expires="+a.toUTCString(),null,t),c=(new Date).getTime()}N(t.sessionExpirationMs)||(i.sessionExpirationMs=function(){return Dr.acquisitionSpan}),N(t.sessionRenewalMs)||(i.sessionRenewalMs=function(){return Dr.renewalSpan}),o.config=i,l=function(){return o.config.namePrefix&&o.config.namePrefix()?Dr.cookieNameConst+o.config.namePrefix():Dr.cookieNameConst},o.automaticSession=new cr,o.update=function(){o.automaticSession.getId()||((e=Ci(l()))&&N(e.split)?r(e):(e=kr(u,l()))&&r(e),o.automaticSession.getId()||a());var e=o.automaticSession,t=o.config,n=(new Date).getTime(),i=n-e.acquisitionDate>t.sessionExpirationMs(),t=n-e.renewalDate>t.sessionRenewalMs();i||t?a():(!(i=c)||Dr.cookieUpdateInterval<n-i)&&(e.renewalDate=n,s(e.getId(),e.acquisitionDate,e.renewalDate))},o.backup=function(){var e=o.automaticSession,t=e.getId(),n=e.acquisitionDate,e=e.renewalDate;Or(u,l(),[t,n,e].join("|"))}})}var Lr,l=Q,Mr=(u.prototype.getSessionId=function(){var e=this.session;if(e&&l(e.customId))return e.customId;var t=this.sessionManager,t=(t.update(),t.automaticSession);return t&&(t=t.getId())&&l(t)&&(e.automaticId=t),e.automaticId},u.prototype.applyApplicationContext=function(e){var t=this.app,e=e.ext[c.AppExt];p(e,fr.id,t.id,l),p(e,fr.ver,t.ver,l),p(e,fr.appName,t.name,l),p(e,fr.locale,t.locale,l),p(e,fr.expId,t.getExpId(),l),p(e,fr.env,t.env,l)},u.prototype.applyUserContext=function(e){var t=this.user,e=e.ext[c.UserExt];p(e,pr.localId,t.getLocalId(),l),p(e,pr.locale,t.locale,l),p(e,pr.id,t.id,l)},u.prototype.applyWebContext=function(e){var t=this.web,e=e.ext[c.WebExt];p(e,dr.domain,t.domain,l),p(e,dr.browser,t.browser,l),p(e,dr.browserVer,t.browserVer,l),p(e,dr.screenRes,t.screenRes,l),e[dr.userConsent]=t.getUserConsent(),e[dr.consentDetails]=t.getUserConsentDetails()},u.prototype.applyOsContext=function(e){var t=this.os,e=e.ext[c.OSExt];p(e,gr.osName,t.name,l),p(e,gr.ver,t.ver,l)},u.prototype.applySdkContext=function(e){var t=this.sdk,e=e.ext[c.SdkExt];e[hr.seq]=t.getSequenceId(),e[hr.epoch]=t.epoch,p(e,hr.installId,t.installId,l)},u.prototype.applyIntWebContext=function(e){var t=this.intWeb,e=e.ext[c.IntWebExt];p(e,mr.msfpc,t.getMsfpc(),l),p(e,mr.anid,t.getAnid(),l),p(e,mr.serviceName,t.serviceName,l)},u.prototype.applyUtcContext=function(e){var t=this.utc,e=e.ext[c.UtcExt];e[vr.popSample]=t.popSample,0<t.eventFlags&&(e[vr.eventFlags]=t.eventFlags)},u.prototype.applyLocContext=function(e){e.ext[c.LocExt][yr.tz]=this.loc.tz},u.prototype.applySessionContext=function(e){e.ext[c.AppExt][Ir.sessionId]=this.getSessionId()},u.prototype.applyDeviceContext=function(e){var t=this.device,e=e.ext[c.DeviceExt];p(e,Tr.localId,t.localId,l),p(e,Tr.make,t.make,l),p(e,Tr.model,t.model,l),p(e,Tr.deviceClass,t.deviceClass,l)},u.prototype.applyCloudContext=function(e){var t=this.cloud,e=e.ext[c.CloudExt];p(e,Cr.role,t.role,l),p(e,Cr.roleInstance,t.roleInstance,l),p(e,Cr.roleVer,t.roleVer,l)},u.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace,e=e.ext[c.TraceExt];p(e,Er.traceId,t.traceId,l),p(e,Er.traceName,t.name,l),p(e,Er.parentId,t.parentId,l)},u);function u(e,t,n){var i=this;i.app=new Ui(t,n),i.cloud=new Fi,i.user=new Bi(e,t,n),i.os=new nr(t),i.web=new ji(t,n),i.sdk=new wr(e,n),i.intWeb=new ir(t,n),i.utc=new ar(t),i.loc=new or,i.device=new sr,i.telemetryTrace=new ur(t),i.sessionManager=new Rr(n,t),i.session=new cr}function Ur(){var o,i=Lr.call(this)||this,s=(i.identifier="SystemPropertiesCollector",i.priority=3,i.version="3.1.11",{});return j(Ur,i,function(a,e){a.initialize=function(e,t,n){Lr.prototype.initialize.call(i,e,t,n),o=new Mr(e,a._getTelCtx().getExtCfg(a.identifier),t)},a.processTelemetry=function(e,t){Ai(e,a.identifier),t=a._getTelCtx(t);var n,i,r=e.ext=e.ext||{};e.data=e.data||{},r[c.AppExt]=r[c.AppExt]||{},r[c.UserExt]=r[c.UserExt]||{},r[c.WebExt]=r[c.WebExt]||{},r[c.OSExt]=r[c.OSExt]||{},r[c.SdkExt]=r[c.SdkExt]||{},r[c.IntWebExt]=r[c.IntWebExt]||{},r[c.UtcExt]=r[c.UtcExt]||{},r[c.LocExt]=r[c.LocExt]||{},r[c.DeviceExt]=r[c.DeviceExt]||{},r[c.TraceExt]=r[c.TraceExt]||{},r[c.CloudExt]=r[c.CloudExt]||{},o.applyApplicationContext(e),o.applyUserContext(e),o.applyWebContext(e),o.applyOsContext(e),o.applySdkContext(e),o.applyIntWebContext(e),o.applyUtcContext(e),o.applyLocContext(e),o.applySessionContext(e),o.applyDeviceContext(e),o.applyAITraceContext(e),o.applyCloudContext(e),Z(nt(r),function(e){0===nt(r[e]).length&&delete r[e]}),n=s,i=e.data,n&&Y(n,function(e,t){i[e]||(i[e]=t)}),a.processNext(e,t)},a.getPropertiesContext=function(){return o},a.setProperty=function(e,t){s[e]=t}}),i}e(Ur,Lr=i);var Vr=Ur,Fr="REAL_TIME",Br="POST",Wr="drop",t="requeue",Hr="application/x-json-stream",Kr="cache-control",zr="content-type",Gr="kill-duration",qr="time-delta-millis",jr="AuthMsaDeviceTicket",Xr="msfpc";function Yr(e){e=(e.ext||{}).intweb;return e&&se(e[Xr])?e[Xr]:null}function Jr(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=Yr(e[n]);return t}Zr.create=function(e,t){return new Zr(e,t)};var Qr=Zr;function Zr(i,e){var r=e?[].concat(e):[],e=this,a=Jr(r);e.iKey=function(){return i},e.Msfpc=function(){return a||""},e.count=function(){return r.length},e.events=function(){return r},e.addEvent=function(e){return!!e&&(r.push(e),a=a||Yr(e),!0)},e.split=function(e,t){var n;return e<r.length&&(n=r.length-e,q(t)||(n=t<n?t:n),n=r.splice(e,n),a=Jr(r)),new Zr(i,n)}}var $r="metadata",ea=/\./,ta=function sc(t,e,I,n){var a="baseData",T=!!n,C=e,E={};j(sc,this,function(v){function y(e,f,d,p,g,h,m){Y(e,function(e,t){if(t||se(t)){var n,i=d,r=e,a=g,o=f;if(T&&!p&&ea.test(e)){var s=e.split("."),c=s.length;if(1<c){for(var a=a&&a.slice(),l=0;l<c-1;l++){var u=s[l],o=o[u]=o[u]||{};i+="."+u,a&&a.push(u)}r=s[c-1]}}(e=p&&((n=E[e=i])===undefined&&(7<=e.length&&(n=qe(e,"ext.metadata")||qe(e,"ext.web")),E[e]=n),n)||!C||!C.handleField(i,r)?Ii(r,t,I):C.value(i,r,t,I))&&(n=e.value,o[r]=n,h&&h(a,r,e),m&&"object"==typeof n&&!J(n)&&((e=a)&&(e=a.slice()).push(r),y(t,n,i+"."+r,p,e,h,m)))}})}v.createPayload=function(e,t,n,i,r,a){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:i,sendType:a,sendReason:r}},v.appendPayload=function(g,h,m){var e=g&&h&&!g.overflow;return e&&re(t,function(){return"Serializer:appendPayload"},function(){for(var e=h.events(),t=g.payloadBlob,n=g.numEvents,i=!1,r=[],a=[],o=g.isBeacon,s=o?65e3:3984588,c=o?65e3:2e6,l=0,u=0;l<e.length;){var f=e[l];if(f){if(m<=n){g.overflow=h.split(l);break}var d=v.getEventBlob(f);if(d&&d.length<=c){var p=d.length;if(s<t.length+p){g.overflow=h.split(l);break}t&&(t+="\n"),t+=d,20<++u&&(t.substr(0,1),u=0),i=!0,n++}else(d?r:a).push(f),e.splice(l,1),l--}l++}r&&0<r.length&&g.sizeExceed.push(Qr.create(h.iKey(),r)),a&&0<a.length&&g.failedEvts.push(Qr.create(h.iKey(),a)),i&&(g.batches.push(h),g.payloadBlob=t,g.numEvents=n,o=h.iKey(),-1===Qe(g.apiKeys,o)&&g.apiKeys.push(o))},function(){return{payload:g,theBatch:{iKey:h.iKey(),evts:h.events()},max:m}}),e},v.getEventBlob=function(r){try{return re(t,function(){return"Serializer.getEventBlob"},function(){var e={},i=(e.name=r.name,e.time=r.time,e.ver=r.ver,e.iKey="o:"+vi(r.iKey),{}),t=r.ext,t=(t&&(e.ext=i,Y(t,function(e,t){y(t,i[e]={},"ext."+e,!0,null,null,!0)})),e.data={}),n=(t.baseType=r.baseType,t[a]={});return y(r.baseData,n,a,!1,[a],function(e,t,n){na(i,e,t,n)},!0),y(r.data,t,"data",!1,[],function(e,t,n){na(i,e,t,n)},!0),JSON.stringify(e)},function(){return{item:r}})}catch(e){return null}}})};function na(e,t,n,i){if(i&&e){var r=Ti(i.value,i.kind,i.propertyType);if(-1<r){var a=e[$r],o=(o=(a=a||(e[$r]={f:{}})).f)||(a.f={});if(t)for(var s=0;s<t.length;s++)var c=t[s],o=(o[c]||(o[c]={f:{}}),o[c].f||(o[c].f={}));o=o[n]={},J(i.value)?o.a={t:r}:o.t=r}}}function ia(){}ia.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!=e&&429!=e||501==e||505==e)},ia.getMillisToBackoffForRetry=function(e){return Math.min(Math.pow(2,e)*(2400+Math.floor(1200*Math.random())),6e5)};var ra=ia,aa=function cc(){var c={};j(cc,this,function(e){e.setKillSwitchTenants=function(e,t){if(e&&t)try{a=e.split(","),o=[],a&&Z(a,function(e){o.push($(e))});var n=o;if("this-request-only"===t)return n;for(var i=1e3*parseInt(t,10),r=0;r<n.length;++r)c[n[r]]=it()+i}catch(s){return[]}var a,o;return[]},e.isTenantKilled=function(e){var t=c,e=$(e);return t[e]!==undefined&&t[e]>it()||(delete t[e],!1)}})},oa=function lc(){var t=!0,n=!0,i=!0,r="use-collector-delta",a=!1;j(lc,this,function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){i&&(i=!1,a||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return r},e.setClockSkew=function(e){a||(e?(r=e,a=n=!0):n=!1,t=!0)}})},sa="sendAttempt",ca="&NoResponseBody=true",la=((a={})[1]=t,a[100]=t,a[200]="sent",a[8004]=Wr,a[8003]=Wr,a),ua={};function fa(e){try{return e.responseText}catch(t){}return""}function da(e,t){var n=!1;if(e&&t){var i=nt(e);if(i&&0<i.length)for(var r=t.toLowerCase(),a=0;a<i.length;a++){var o=i[a];if(o&&He(t,o)&&o.toLowerCase()==r){n=!0;break}}}return n}function pa(e,t,n,i){t&&n&&0<n.length&&(i&&ua[t]?(e.hdrs[ua[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}ua.AuthMsaDeviceTicket="AuthMsaDeviceTicket";var ga,ha=function uc(N,e,S,u){this._responseHandlers=[];var w,A,P,f,x,_,O="?cors=true&content-type="+Hr,k=new aa,R=!1,D=new oa,L=!1,M=0,U=!0,V=[],F={},B=[],W=null,H=!1,K=!1,z=!1;j(uc,this,function(m){var p=!0;function o(e,t){for(var n=0,i=null,r=0;null==i&&r<e.length;)1===(n=e[r])?Lt()?i=a:Mt()&&(i=c):2===n&&function(e){var t=!1;try{var t=!!ee("fetch"),n=ee("Request");t&&e&&n&&(t=Nt(n,"keepalive"))}catch(i){}return t}(t)?i=s:L&&3===n&&Dt()&&(i=l),r++;return i?{_transport:n,_isSync:t,sendPOST:i}:null}function a(e,t,n){var i=new XDomainRequest;i.open(Br,e.urlString),e.timeout&&(i.timeout=e.timeout),i.onload=function(){var e=fa(i);v(t,200,{},e),E(e)},i.onerror=function(){v(t,400,{})},i.ontimeout=function(){v(t,500,{})},i.onprogress=function(){},n?i.send(e.data):w._setTimeoutOverride(function(){i.send(e.data)},0)}function s(e,i,t){var n,r=e.urlString,a=!1,o=!1;(n={body:e.data,method:Br}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0;t&&(n.keepalive=!0,2===e._sendReason&&(a=!0,r+=ca)),p&&(n.credentials="include"),e.headers&&0<nt(e.headers).length&&(n.headers=e.headers),fetch(r,n).then(function(e){var n={},t="";e.headers&&e.headers.forEach(function(e,t){n[t]=e}),e.body&&e.text().then(function(e){t=e}),o||(o=!0,v(i,e.status,n,t),E(t))})["catch"](function(e){o||(o=!0,v(i,0,{}))}),a&&!o&&(o=!0,v(i,200,{})),!o&&0<e.timeout&&w._setTimeoutOverride(function(){o||(o=!0,v(i,500,{}))},e.timeout)}function c(e,a,t){var n=e.urlString;function o(e,t,n){return!e[n]&&t&&t.getResponseHeader&&(t=t.getResponseHeader(n))&&(e[n]=$(t)),e}function i(e,t){var n,i,r;v(a,e.status,(r={},(e=e).getAllResponseHeaders?(n=e.getAllResponseHeaders(),i={},Q(n)&&Z($(n).split(/[\r\n]+/),function(e){var t,n;e&&(-1!=(n=e.indexOf(": "))?(t=$(e.substring(0,n)).toLowerCase(),n=$(e.substring(1+n)),i[t]=n):i[$(e)]=1)}),i):(r=o(r,e,qr),r=o(r,e,Gr),o(r,e,"kill-duration-seconds"))),t)}t&&e.disableXhrSync&&(t=!1),r=Br,n=n,s=p,t=t,l=e.timeout,c=!0,void 0===t&&(t=!1),u=new XMLHttpRequest,c&&d(u,ui,c),s&&d(u,fi,s),u.open(r,n,!t),s&&d(u,fi,s),!t&&l&&d(u,di,l);var r,s,c,l,u,f=u;function d(e,t,n){try{e[t]=n}catch(i){}}Y(e.headers,function(e,t){f.setRequestHeader(e,t)}),f.onload=function(){var e=fa(f);i(f,e),E(e)},f.onerror=function(){i(f)},f.ontimeout=function(){i(f)},f.send(e.data)}function v(e,t,n,i){try{e(t,n,i)}catch(r){w.diagLog().throwInternal(X.WARNING,oe.SendPostOnCompleteFailure,ie(r))}}function l(e,t,n){var i=200,r=e._thePayload,a=e.urlString+ca;try{var o,s=At();s.sendBeacon(a,e.data)||(r?(o=[],Z(r.batches,function(e){if(o&&e&&0<e.count()){for(var t=e.events(),n=0;n<t.length;n++)if(!s.sendBeacon(a,W.getEventBlob(t[n]))){o.push(e.split(n));break}}else o.push(e.split(0))}),b(o,8003,r.sendType,!0)):i=0)}catch(c){w.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+c),i=0}finally{v(t,i,{},"")}}function y(e){return 2===e||3===e}function i(e){return K&&y(e)?2:e}function r(){return!R&&M<e}function n(){var e=B;return B=[],e}function d(e,t,n){return e&&0<e.length&&!R&&A[t]&&W&&(0!==t||r()&&(0<n||D.allowRequestSending()))}function g(e){var n={};return e&&Z(e,function(e,t){n[t]={iKey:e.iKey(),evts:e.events()}}),n}function I(o,s,c,l,u){if(o&&0!==o.length)if(R)b(o,1,l);else{l=i(l);try{var e=o,f=0!==l;re(P,function(){return"HttpManager:_sendBatches"},function(e){e&&(o=o.slice(0));for(var t=[],n=null,i=Ni(),e=A[l]||(f?A[1]:A[0]),r=(K||y(l)||e&&3===e._transport)&&!U&&L&&Dt();d(o,l,s);){var a=o.shift();a&&0<a.count()&&(k.isTenantKilled(a.iKey())?t.push(a):(n=n||W.createPayload(s,c,f,r,u,l),W.appendPayload(n,a,N)?null!==n.overflow&&(o=[n.overflow].concat(o),n.overflow=null,h(n,i,Ni(),u),i=Ni(),n=null):(h(n,i,Ni(),u),i=Ni(),o=[a].concat(o),n=null)))}n&&h(n,i,Ni(),u),0<o.length&&(B=o.concat(B)),b(t,8004,l)},function(){return{batches:g(e),retryCount:s,isTeardown:c,isSynchronous:f,sendReason:u,useSendBeacon:y(l),sendType:l}},!f)}catch(t){w.diagLog().throwInternal(X.WARNING,oe.CannotSerializeObject,"Unexpected Exception sending batch: "+ie(t))}}}function T(e,t,n){e[t]=e[t]||{},e[t][w.identifier]=n}function h(p,s,c,g){var l,u,f,d,h;p&&p.payloadBlob&&0<p.payloadBlob.length&&(l=!!m.sendHook,u=A[p.sendType],!y(p.sendType)&&p.isBeacon&&2===p.sendReason&&(u=A[2]||A[3]||u),d=z,!p.isBeacon&&3!==u._transport||(d=!1),f=function(e,t){var n={url:O,hdrs:{},useHdrs:!1},i=(n.hdrs=ce(n.hdrs,F),n.useHdrs=0<nt(n.hdrs).length,pa(n,"client-id","NO_AUTH",t),pa(n,"client-version",li,t),""),e=(Z(e.apiKeys,function(e){0<i.length&&(i+=","),i+=e}),pa(n,"apikey",i,t),pa(n,"upload-time",it().toString(),t),function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return""}(e));se(e)&&(n.url+="&ext.intweb.msfpc="+e),D.shouldAddClockSkewHeaders()&&pa(n,"time-delta-to-apply-millis",D.getClockSkewHeaderValue(),t),P.getWParam&&0<=(e=P.getWParam())&&(n.url+="&w="+e);for(var r=0;r<V.length;r++)n.url+="&"+V[r].name+"="+V[r].value;return n}(p,d),d=d||f.useHdrs,h=Ni(),re(P,function(){return"HttpManager:_doPayloadSend"},function(){for(var e=0;e<p.batches.length;e++)for(var t=p.batches[e].events(),n=0;n<t.length;n++){var i,r=t[n];H&&(T(i=r.timings=r.timings||{},"sendEventStart",h),T(i,"serializationStart",s),T(i,"serializationCompleted",c)),0<r[sa]?r[sa]++:r[sa]=1}b(p.batches,1e3+(g||0),p.sendType,!0);var a={data:p.payloadBlob,urlString:f.url,headers:f.hdrs,_thePayload:p,_sendReason:g,timeout:x},o=(G(_)||(a.disableXhrSync=!!_),d&&(da(a.headers,Kr)||(a.headers[Kr]="no-cache, no-store"),da(a.headers,zr)||(a.headers[zr]=Hr)),null);u&&(o=function(e){D.firstRequestSent();var t=function(e,t){var n,i,r=p,a=g,o=9e3,s=null,c=!1,l=!1;try{var u,f=!0;if(typeof e!==le){if(t&&(D.setClockSkew(t[qr]),d=t[Gr]||t["kill-duration-seconds"],Z(k.setKillSwitchTenants(t["kill-tokens"],d),function(t){Z(r.batches,function(e){e.iKey()===t&&(s=s||[],e=e.split(0),r.numEvents-=e.count(),s.push(e))})})),200==e||204==e)return void(o=200);(!ra.shouldRetryForStatus(e)||r.numEvents<=0)&&(f=!1),o=9e3+e%1e3}f&&(o=100,u=r.retryCnt,0===r.sendType&&(u<S?(c=!0,C(function(){0===r.sendType&&M--,I(r.batches,u+1,r.isTeardown,K?2:r.sendType,5)},K,ra.getMillisToBackoffForRetry(u))):(l=!0,K&&(o=8001))))}finally{if(!c){D.setClockSkew();var t=r,d=o,e=a,f=l;try{f&&w._backOffTransmission(),200===d&&(f||t.isSync||w._clearBackOff(),n=t.batches,H&&(i=Ni(),Z(n,function(e){var t;e&&0<e.count()&&(e=e.events(),t=i,H&&Z(e,function(e){T(e.timings=e.timings||{},"sendEventCompleted",t)}))}))),b(t.batches,d,t.sendType,!0)}finally{0===t.sendType&&(M--,5!==e&&m.sendQueuedRequests(t.sendType,e))}}b(s,8004,r.sendType)}},n=p.isTeardown||p.isSync;try{u.sendPOST(e,t,n),m.sendListener&&m.sendListener(a,e,n,p.isBeacon)}catch(i){w.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+ie(i)),v(t,0,{})}}),re(P,function(){return"HttpManager:_doPayloadSend.sender"},function(){var t,n;o&&(0===p.sendType&&M++,l&&!p.isBeacon&&3!==u._transport?(t={data:a.data,urlString:a.urlString,headers:ce({},a.headers),timeout:a.timeout,disableXhrSync:a.disableXhrSync},n=!1,re(P,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{m.sendHook(t,function(e){n=!0,U||e._thePayload||(e._thePayload=e._thePayload||a._thePayload,e._sendReason=e._sendReason||a._sendReason),o(e)},p.isSync||p.isTeardown)}catch(e){n||o(a)}})):o(a))})},function(){return{thePayload:p,serializationStart:s,serializationCompleted:c,sendReason:g}},p.isSync)),p.sizeExceed&&0<p.sizeExceed.length&&b(p.sizeExceed,8003,p.sendType),p.failedEvts&&0<p.failedEvts.length&&b(p.failedEvts,8002,p.sendType)}function C(e,t,n){t?e():w._setTimeoutOverride(e,n)}function E(e){var t=m._responseHandlers;try{for(var n,i=0;i<t.length;i++)try{t[i](e)}catch(r){w.diagLog().throwInternal(X.CRITICAL,oe.PostResponseHandler,"Response handler failed: "+r)}e&&se((n=JSON.parse(e)).webResult)&&se(n.webResult[Xr])&&f.set("MSFPC",n.webResult[Xr],31536e3)}catch(a){}}function b(t,n,i,e){var r,a,o;t&&0<t.length&&u&&(r=u[se(o=la[n])||(o="oth",9e3<=n&&n<=9999?o="rspFail":8e3<=n&&n<=8999?o=Wr:1e3<=n&&n<=1999&&(o="send")),o])&&re(P,function(){return"HttpManager:_sendBatchesNotification"},function(){C(function(){try{r.call(u,t,n,a,i)}catch(e){w.diagLog().throwInternal(X.CRITICAL,oe.NotificationException,"send request notification failed: "+e)}},e||a,0)},function(){return{batches:g(t),reason:n,isSync:a,sendSync:e,sendType:i}},!(a=0!==i))}m.initialize=function(e,t,n,i,r){O=e+O,z=!G((r=r||{}).avoidOptions)&&!r.avoidOptions,f=(P=t).getCookieMgr(),H=!P.config.disableEventTimings;var a,e=!!P.config.enableCompoundKey,t=(w=n,r.valueSanitizer),n=r.stringifyObjects,t=(G(r.enableCompoundKey)||(e=!!r.enableCompoundKey),x=r.xhrTimeout,_=r.disableXhrSync,L=!kt(),W=new ta(P,t,n,e),i),n=r.alwaysUseXhrOverride?i:null,e=r.alwaysUseXhrOverride?i:null;i||(U=!1,(a=Pt())&&a.protocol&&"file:"==a.protocol.toLowerCase()&&(p=!1),a=[],a=kt()?[2,1]:[1,2,3],(r=r.transports)&&(Xe(r)?a=[r].concat(a):J(r)&&(a=r.concat(a))),i=o(a,!1),t=o(a,!0),i||w.diagLog().warnToConsole("No available transport to send events")),(r={})[0]=i,r[1]=t||o([1,2,3],!0),r[2]=n||o([3,2],!0)||t||o([1],!0),r[3]=e||o([2,3],!0)||t||o([1],!0),A=r},m._getDbgPlgTargets=function(){return[A[0],k,W,A]},m.addQueryStringParameter=function(e,t){for(var n=0;n<V.length;n++)if(V[n].name===e)return void(V[n].value=t);V.push({name:e,value:t})},m.addHeader=function(e,t){F[e]=t},m.canSendRequest=function(){return r()&&D.allowRequestSending()},m.sendQueuedRequests=function(e,t){G(e)&&(e=0),K&&(e=i(e),t=2),d(B,e,0)&&I(n(),0,!1,e,t||0)},m.isCompletelyIdle=function(){return!R&&0===M&&0===B.length},m.setUnloading=function(e){K=e},m.addBatch=function(e){if(e&&0<e.count()){if(k.isTenantKilled(e.iKey()))return!1;B.push(e)}return!0},m.teardown=function(){0<B.length&&I(n(),0,!0,2,2)},m.pause=function(){R=!0},m.resume=function(){R=!1,m.sendQueuedRequests(0,4)},m.sendSynchronousBatch=function(e,t,n){e&&0<e.count()&&(q(t)&&(t=1),K&&(t=i(t),n=2),I([e],0,!1,t,n||0))}})},ma=mi?window:undefined,va="eventsDiscarded",ya="overrideInstrumentationKey",Ia="maxEventRetryAttempts",Ta="maxUnloadEventRetryAttempts";function Ca(){var E,b,N,S,w,A,e=ga.call(this)||this,P=(e.identifier="PostChannel",e.priority=1011,!(e.version="3.1.11")),x=[],_=null,O=!1,k=0,R=500,D=0,L=1e4,M={},n=Fr,U=null,V=null,F=0,B=0,W={},H=-1,K=!0,z=!1,G=6,q=2;return j(Ca,e,function(s,c){function l(e){"beforeunload"!==(e||te().event).type&&(z=!0,N.setUnloading(z)),d(2,2)}function u(e){z=!1,N.setUnloading(z)}function r(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=ae.Normal),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,K&&(e.ext=st(e.ext),e.baseData&&(e.baseData=st(e.baseData)),e.data&&(e.data=st(e.data))),e.sync)if(F||O)e.latency=ae.RealTime,e.sync=!1;else if(N)return K&&(e=st(e)),N.sendSynchronousBatch(Qr.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,i=D,r=L,a=(n===ae.Immediate&&(i=k,r=R),!1);i<r?a=!h(e,t):(i=ae.Normal,r=20,n===ae.Immediate&&(i=ae.Immediate,r=1),a=!0,function(e,t,n,i){for(;n<=t;){var r=p(e,t,!0);if(r&&0<r.count()){var r=r.split(0,i),a=r.count();if(0<a)return n===ae.Immediate?k-=a:D-=a,T(va,[r],ue.QueueFull),1}n++}return m(),0}(e.iKey,e.latency,i,r)&&(a=!h(e,t))),a&&I(va,[e],ue.QueueFull)}function a(e,t,n){v(e,t,n),N.sendQueuedRequests(t,n)}function o(){0<=H&&v(H,0,A)&&N.sendQueuedRequests(0,A),0<k&&!V&&!O&&0<=(e=M[n][2])&&(V=f(function(){V=null,a(ae.Immediate,0,1),o()},e));var e=M[n][1];!U&&!_&&0<=e&&!O&&(0<D?U=f(function(){U=null,a(0===B?ae.RealTime:ae.Normal,0,1),B++,B%=2,o()},e):B=0)}function f(e,t){0===t&&F&&(t=1);var n=1e3;return F&&(n=ra.getMillisToBackoffForRetry(F-1)),s._setTimeoutOverride(e,t*n)}function i(){null!==U&&(s._clearTimeoutOverride(U),U=null,B=0)}function d(e,t){i(),_&&(s._clearTimeoutOverride(_),_=null),O||a(ae.Normal,e,t)}function p(e,t,n){var i=W[t],t=(i=i||W[t=ae.Normal]).iKeyMap[e];return!t&&n&&(t=Qr.create(e),i.batches.push(t),i.iKeyMap[e]=t),t}function g(e,t){N.canSendRequest()&&!F&&(t=0<S&&S<D||t)&&null==_&&s.flush(e,null,20)}function h(e,t){var n=(e=K?st(e):e).latency,i=p(e.iKey,n,!0);return i.addEvent(e)&&(n!==ae.Immediate?(D++,t&&0===e.sendAttempt&&g(!e.sync,0<w&&i.count()>=w)):k++,1)}function m(){for(var n=0,i=0,e=ae.Normal;e<=ae.Immediate;e++)!function(t){var e=W[t];e&&e.batches&&Z(e.batches,function(e){t===ae.Immediate?n+=e.count():i+=e.count()})}(e);D=i,k=n}function v(i,e,t){var r=!1,n=0===e;return!n||N.canSendRequest()?re(s.core,function(){return"PostChannel._queueBatches"},function(){for(var t=[],n=ae.Immediate;i<=n;){var e=W[n];e&&e.batches&&0<e.batches.length&&(Z(e.batches,function(e){N.addBatch(e)?r=r||e&&0<e.count():t=t.concat(e.events()),n===ae.Immediate?k-=e.count():D-=e.count()}),e.batches=[],e.iKeyMap={}),n--}0<t.length&&I(va,t,ue.KillSwitch),r&&i<=H&&(H=-1,A=0)},function(){return{latency:i,sendType:e,sendReason:t}},!n):(H=0<=H?Math.min(H,i):i,A=Math.max(A,t)),r}function t(){M={REAL_TIME:[2,1,0],NEAR_REAL_TIME:[6,3,0],BEST_EFFORT:[18,9,0]}}function y(e,t){var n=s._notificationManager||{},i=n[e];if(i)try{i.apply(n,t)}catch(r){s.diagLog().throwInternal(X.CRITICAL,oe.NotificationException,e+" notification failed: "+r)}}function I(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&0<t.length&&y(e,[t].concat(n))}function T(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e&&0<e.length&&Z(e,function(e){e&&0<e.count()&&y(t,[e.events()].concat(n))})}function C(){w=E&&E.disableAutoBatchFlushLimit?0:Math.max(1500,L/6)}t(),W[ae.Immediate]={batches:[],iKeyMap:{}},W[ae.RealTime]={batches:[],iKeyMap:{}},W[ae.CostDeferred]={batches:[],iKeyMap:{}},W[ae.Normal]={batches:[],iKeyMap:{}},C(),N=new ha(500,2,1,{requeue:function(e,t){var n=[],i=z?q:G;Z(e,function(e){e&&0<e.count()&&Z(e.events(),function(e){e&&(e.sync&&(e.latency=ae.Immediate,e.sync=!1),e.sendAttempt<i?(Ai(e,s.identifier),r(e,!1)):n.push(e))})}),0<n.length&&I(va,n,ue.NonRetryableStatus),z&&d(2,2)},send:function(e,t,n){e&&0<e.length&&y("eventsSendRequest",[1e3<=t&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){T("eventsSent",e,t),o()},drop:function(e,t){T(va,e,8e3<=t&&t<=8999?t-8e3:ue.Unknown)},rspFail:function(e){T(va,e,ue.NonRetryableStatus),o()},oth:function(e,t){T(va,e,ue.Unknown),o()}}),s._getDbgPlgTargets=function(){return[N]},s.initialize=function(r,a,o){re(a,function(){return"PostChannel:initialize"},function(){var t,e=a,n=(c.initialize(r,a,o),s.setInitialized(!1),s._getTelCtx()),n=(r.extensionConfig[s.identifier]=r.extensionConfig[s.identifier]||{},E=n.getExtCfg(s.identifier),s._setTimeoutOverride=E.setTimeoutOverride||setTimeout.bind(ma),s._clearTimeoutOverride=E.clearTimeoutOverride||clearTimeout.bind(ma),K=!E.disableOptimizeObj&&!!ee("chrome"),t=e.getWParam,e.getWParam=function(){var e=0;return E.ignoreMc1Ms0CookieProcessing&&(e|=2),e|t()},0<E.eventsLimitInMem&&(L=E.eventsLimitInMem),0<E.immediateEventLimit&&(R=E.immediateEventLimit),0<E.autoFlushEventsLimit&&(S=E.autoFlushEventsLimit),E.disableXhrSync,Xe(E[Ia])&&(G=E[Ia]),Xe(E[Ta])&&(q=E[Ta]),C(),E.httpXHROverride&&E.httpXHROverride.sendPOST&&(b=E.httpXHROverride),se(r.anonCookieName)&&N.addQueryStringParameter("anoncknm",r.anonCookieName),N.sendHook=E.payloadPreprocessor,N.sendListener=E.payloadListener,E.overrideEndpointUrl||r.endpointUrl),e=(s._notificationManager=r.extensionConfig.NotificationManager,N.initialize(n,s.core,s,b,E),r.disablePageUnloadEvents||[]);ti(l,e),ni(l,e),function i(n,e){var t=!1;return e&&-1!==Qe(e,$n)||(t=ei($n,n)),!(t=(!e||-1===Qe(e,Qn))&&ei(Qn,function(e){var t=ne();n&&t&&"visible"===t.visibilityState&&n(e)})||t)&&e?i(n):t}(u,r.disablePageShowEvents),s.setInitialized(!0)},function(){return{coreConfig:r,core:a,extensions:o}})},s.processTelemetry=function(e,t){Ai(e,s.identifier);var n=(t=s._getTelCtx(t)).getExtCfg(s.identifier),i=!!E.disableTelemetry;(i=n?i||!!n.disableTelemetry:i)||P||(E[ya]&&(e.iKey=E[ya]),n&&n[ya]&&(e.iKey=n[ya]),r(e,!0),z?d(2,2):o()),s.processNext(e,t)},s.setEventQueueLimits=function(e,t){L=0<e?e:1e4,S=0<t?t:0,C();var n=e<D;if(!n&&0<w)for(var i=ae.Normal;!n&&i<=ae.RealTime;i++){var r=W[i];r&&r.batches&&Z(r.batches,function(e){e&&e.count()>=w&&(n=!0)})}g(!0,n)},s.teardown=function(){d(2,2),P=!0,N.teardown()},s.pause=function(){i(),O=!0,N.pause()},s.resume=function(){O=!1,N.resume(),o()},s.addResponseHandler=function(e){N._responseHandlers.push(e)},s._loadTransmitProfiles=function(e){i(),t(),n=Fr,o(),Y(e,function(e,t){var n,i=t.length;2<=i&&(n=2<i?t[2]:0,t.splice(0,i-2),t[1]<0&&(t[0]=-1),0<t[1]&&0<t[0]&&(i=t[0]/t[1],t[0]=Math.ceil(i)*t[1]),0<=n&&0<=t[1]&&n>t[1]&&(n=t[1]),t.push(n),M[e]=t)})},s.flush=function(e,t,n){void 0===e&&(e=!0),O||(i(),n=n||1,e?(v(ae.Normal,0,n),m(),null==_?_=f(function(){!function i(e,t){a(ae.Normal,0,t),function n(e){N.isCompletelyIdle()?e():_=f(function(){n(e)},.25)}(function(){e&&e(),0<x.length?_=f(function(){return i(x.shift(),t)},0):(_=null,0<D&&o())})}(t,n)},0):x.push(t)):(a(ae.Normal,1,n),null!==t&&t!==undefined&&t()))},s.setMsaAuthTicket=function(e){N.addHeader(jr,e)},s.hasEvents=function(){return 0<D},s._setTransmitProfile=function(e){n!==e&&M[e]!==undefined&&(i(),n=e,o())},s._backOffTransmission=function(){F<4&&(F++,i(),o())},s._clearBackOff=function(){F&&(F=0,i(),o())}}),e}e(Ca,ga=i);var Ea=Ca;function ba(e,t,n){var i,r,a=t.length,o=(e=e,(t=t)&&150<(t=$(t.toString())).length&&(r=t.substring(0,150),e&&e.throwInternal(X.WARNING,b.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t);if(o.length!==a){for(var s=0,c=o;n[c]!==undefined;)s++,c=o.substring(0,147)+(i=void 0,(i="00"+s).substr(i.length-3));o=c}return o}function Na(e,t,n){var i;return void 0===n&&(n=1024),t&&(n=n||1024,(t=$(t)).toString().length>n&&(i=t.toString().substring(0,n),e&&e.throwInternal(X.WARNING,b.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),i||t}function Sa(e,t){return xa(e,t,2048,b.UrlTooLong)}function wa(e,t){var n;return t&&32768<t.length&&(n=t.substring(0,32768),e&&e.throwInternal(X.WARNING,b.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function Aa(i,e){var r;return e&&(r={},Y(e,function(e,t){if(Ke(t)&&_t())try{t=Ot().stringify(t)}catch(n){i&&i.throwInternal(X.WARNING,b.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:n},!0)}t=Na(i,t,8192),e=ba(i,e,r),r[e]=t}),e=r),e}function Pa(n,e){var i;return e&&(i={},Y(e,function(e,t){e=ba(n,e,i),i[e]=t}),e=i),e}function xa(e,t,n,i){var r;return t&&(t=$(t)).length>n&&(r=t.substring(0,n),e&&e.throwInternal(X.WARNING,i,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),r||t}function _a(e){var t,n=null;return N(Event)?n=new Event(e):(t=ne())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}function Oa(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()}function ka(e){var t=""+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,n=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,r=Math.floor(e/864e5),e=1===(e=""+e%1e3).length?"00"+e:2===e.length?"0"+e:e,t=t.length<2?"0"+t:t,n=n.length<2?"0"+n:n;return(0<r?r+".":"")+(i=i.length<2?"0"+i:i)+":"+n+":"+t+"."+e}var Ra,Da="not_specified",La="iKey",Ma=((t=Ra=Ra||{})[t.LocalStorage=0]="LocalStorage",t[t.SessionStorage=1]="SessionStorage",undefined);function Ua(e){try{if(q(x()))return null;var t=new Date,n=ee(e===Ra.LocalStorage?"localStorage":"sessionStorage"),i=(n.setItem(t.toString(),t.toString()),n.getItem(t.toString())!==t.toString());if(n.removeItem(t.toString()),!i)return n}catch(r){}return null}function Va(){return Fa()?Ua(Ra.SessionStorage):null}function Fa(){return Ma=Ma===undefined?!!Ua(Ra.SessionStorage):Ma}function Ba(e,t){var n=Va();if(null!==n)try{return n.getItem(t)}catch(i){Ma=!1,e.throwInternal(X.WARNING,b.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+S(i),{exception:ie(i)})}return null}function Wa(e,t,n){var i=Va();if(null!==i)try{i.setItem(t,n)}catch(r){Ma=!1,e.throwInternal(X.WARNING,b.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+S(r),{exception:ie(r)})}}function Ha(e,t){var n=Va();if(null!==n)try{n.removeItem(t)}catch(i){Ma=!1,e.throwInternal(X.WARNING,b.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+S(i),{exception:ie(i)})}}var Ka=ne()||{},za=0,Ga=[null,null,null,null,null];function qa(e,t){return 0===e||0===t||q(e)||q(t)?null:t-e}var ja,a=function(){this.ver=2,this.properties={},this.measurements={}},Xa=(e(Ya,ja=a),Ya.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Ya.dataType="EventData",Ya);function Ya(e,t,n,i){var r=ja.call(this)||this;return r.aiDataContract={ver:1,name:1,properties:0,measurements:0},r.name=Na(e,t)||Da,r.properties=Aa(e,n),r.measurements=Pa(e,i),r}var Ja="error",Qa="stack",Za="stackDetails",$a="errorSrc",eo="message",to="description";function no(e,t){var n=e;return n&&!Q(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=N(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function io(e,t){var n=e;return e&&((n=n&&!Q(n)&&(e[eo]||e[to])||n)&&!Q(n)&&(n=no(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&!~(n||"").indexOf(t)?t+": "+n:n)||""}function ro(e){return e&&e.src&&Q(e.src)&&e.obj&&J(e.obj)}function ao(e){var e=e||"",t=(e=Q(e)?e:Q(e[Qa])?e[Qa]:""+e).split("\n");return{src:e,obj:t}}function oo(e){var t,n=null;if(e)try{e[Qa]?n=ao(e[Qa]):e[Ja]&&e[Ja][Qa]?n=ao(e[Ja][Qa]):e.exception&&e.exception[Qa]?n=ao(e.exception[Qa]):ro(e)?n=e:ro(e[Za])?n=e[Za]:window&&window.opera&&e[eo]?n=function(e){for(var t=[],n=e.split("\n"),i=0;i<n.length;i++){var r=n[i];n[i+1]&&(r+="@"+n[i+1],i++),t.push(r)}return{src:e,obj:t}}(e.message):Q(e)?n=ao(e):(t=e[eo]||e[to]||"",Q(e[$a])&&(t&&(t+="\n"),t+=" from "+e[$a]),t&&(n=ao(t)))}catch(i){n=ao(i)}return n||{src:"",obj:null}}function so(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(i){}return t}function co(e){if(e)try{var t,n;if(!Q(e))return t=so(e),(n=no(e,!1))&&"{}"!==n||(e[Ja]&&(t=so(e=e[Ja])),n=no(e,!0)),n.indexOf(t)&&"String"!==t?t+":"+n:n}catch(i){}return""+(e||"")}e(fo,lo=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}),fo.CreateAutoException=function(e,t,n,i,r,a,o,s){var c=so(r||a||e);return{message:io(e,c),url:t,lineNumber:n,columnNumber:i,error:co(r||a||e),evt:co(a||e),typeName:c,stackDetails:oo(o||r||a),errorSrc:s}},fo.CreateFromInterface=function(t,e,n,i){var r=e.exceptions&&Ze(e.exceptions,function(e){return go.CreateFromInterface(t,e)});return new fo(t,k(k({},e),{exceptions:r}),n,i)},fo.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,i=e.measurements,r=e.severityLevel,a=e.problemGroup,o=e.id,e=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&Ze(t,function(e){return e.toInterface()})||undefined,severityLevel:r,properties:n,measurements:i,problemGroup:a,id:o,isManual:e}},fo.CreateSimpleException=function(e,t,n,i,r,a){return{exceptions:[{hasFullStack:!0,message:e,stack:r,typeName:t}]}},fo.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",fo.dataType="ExceptionData",fo.formatError=co;var lo,uo=fo;function fo(e,t,n,i,r,a){var o=lo.call(this)||this;return o.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){try{if(Ke(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}}(t)?(o.exceptions=t.exceptions,o.properties=t.properties,o.measurements=t.measurements,t.severityLevel&&(o.severityLevel=t.severityLevel),t.id&&(o.id=t.id),t.problemGroup&&(o.problemGroup=t.problemGroup),o.ver=2,q(t.isManual)||(o.isManual=t.isManual)):(o.exceptions=[new go(e,t,n=n||{})],o.properties=Aa(e,n),o.measurements=Pa(e,i),r&&(o.severityLevel=r),a&&(o.id=a)),o}e(ho,po=function(){this.hasFullStack=!0,this.parsedStack=[]}),ho.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&Ze(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Qa],parsedStack:e||undefined}},ho.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&Ze(t.parsedStack,function(e){return yo.CreateFromInterface(e)})||t.parsedStack;return new ho(e,k(k({},t),{parsedStack:n}))};var po,go=ho;function ho(e,t,n){var l,i,r,a,o,s=po.call(this)||this;return s.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if(Ke(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}}(t)?(s.typeName=t.typeName,s.message=t.message,s[Qa]=t[Qa],s.parsedStack=t.parsedStack,s.hasFullStack=t.hasFullStack):(i=(a=t)&&a.evt,je(a)||(a=a[Ja]||i||a),s.typeName=Na(e,so(a))||Da,s.message=wa(e,io(t||a,s.typeName))||Da,l=t[Za]||oo(t),s.parsedStack=function(){var e=l.obj;if(e&&0<e.length){var t=[],n=0,i=0;if(Z(e,function(e){var e=e.toString();yo.regex.test(e)&&(e=new yo(e,n++),i+=e.sizeInBytes,t.push(e))}),32768<i)for(var r=0,a=t.length-1,o=0,s=r,c=a;r<a;){if(32768<(o+=t[r].sizeInBytes+t[a].sizeInBytes)){t.splice(s,c-s+1);break}s=r,c=a,r++,a--}}return t}(),s[Qa]=(i=e,o="",(a=l)&&(a.obj?Z(a.obj,function(e){o+=e+"\n"}):o=a.src||""),(t=o)&&32768<(e=""+t).length&&(r=e.substring(0,32768),i&&i.throwInternal(X.WARNING,b.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0)),r||t),s.hasFullStack=J(s.parsedStack)&&0<s.parsedStack.length,n&&(n.typeName=n.typeName||s.typeName)),s}e(Io,mo=function(){}),Io.CreateFromInterface=function(e){return new Io(e,null)},Io.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},Io.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,Io.baseSize=58;var mo,vo,yo=Io;function Io(e,t){var n,i=mo.call(this)||this;return i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof e?(n=e,i.level=t,i.method="<no_method>",i.assembly=$(n),i.fileName="",i.line=0,(t=n.match(Io.regex))&&5<=t.length&&(i.method=$(t[2])||i.method,i.fileName=$(t[4]),i.line=parseInt(t[5])||0)):(i.level=e.level,i.method=e.method,i.assembly=e.assembly,i.fileName=e.fileName,i.line=e.line,i.sizeInBytes=0),i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=Io.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}vo=0,e(Eo,To=function(){this.kind=vo});var To,Co=Eo;function Eo(){var e=null!==To&&To.apply(this,arguments)||this;return e.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},e}e(So,bo=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}),So.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",So.dataType="MetricData";var bo,No=So;function So(e,t,n,i,r,a,o,s,c){var l=bo.call(this)||this,u=(l.aiDataContract={ver:1,metrics:1,properties:0},new Co);return u.count=0<i?i:undefined,u.max=isNaN(a)||null===a?undefined:a,u.min=isNaN(r)||null===r?undefined:r,u.name=Na(e,t)||Da,u.value=n,u.stdDev=isNaN(o)||null===o?undefined:o,l.metrics=[u],l.properties=Aa(e,s),l.measurements=Pa(e,c),l}e(Ao,wo=a);var wo,t=Ao;function Ao(){var e=wo.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}e(_o,Po=t),_o.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",_o.dataType="PageviewData";var Po,xo=_o;function _o(e,t,n,i,r,a,o){var s=Po.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},s.id=o&&xa(e,o,128,b.IdTooLong).toString(),s.url=Sa(e,n),s.name=Na(e,t)||Da,isNaN(i)||(s.duration=ka(i)),s.properties=Aa(e,r),s.measurements=Pa(e,a),s}e(Ro,Oo=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}),Ro.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Ro.dataType="RemoteDependencyData";var Oo,ko=Ro;function Ro(e,t,n,i,r,a,o,s,c,l,u,f){void 0===c&&(c="Ajax");var d,p,g,h=Oo.call(this)||this,n=(h.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},h.id=t,h.duration=ka(r),h.success=a,h.resultCode=o+"",h.type=Na(e,c),t=e,r=s,c=o=a=i,o=(s=n)&&0<s.length?(d=s,g=(n=Ga)[p=za],Ka.createElement?n[p]||(g=n[p]=Ka.createElement("a")):g={host:function(){e=null,d&&null!=(n=d.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<n.length&&Q(n[2])&&0<n[2].length&&(e=n[2]||"",2<n.length&&(t=(n[1]||"").toLowerCase(),n=n[3]||"",e+=n="http"==t&&":80"===n||"https"==t&&":443"===n?"":n));var e,t=e||"";if(t){var n=t.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=n&&3<n.length&&Q(n[2])&&0<n[2].length)return n[2]+(n[3]||"")}return t}()},g.href=d,++p>=n.length&&(p=0),za=p,p=(n=g).host,o||(null!=n.pathname?("/"!=((g=0===n.pathname.length?"/":n.pathname)[0]||"")&&(g="/"+g),c=n.pathname,Na(t,r?r+" "+g:g)):Na(t,s))):p=a,{target:p,name:o,data:c});return h.data=Sa(e,i)||n.data,h.target=Na(e,n.target),l&&(h.target="".concat(h.target," | ").concat(l)),h.name=Na(e,n.name),h.properties=Aa(e,u),h.measurements=Pa(e,f),h}e(Uo,Do=function(){this.ver=2,this.properties={},this.measurements={}}),Uo.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Uo.dataType="MessageData";var Do,Lo,Mo=Uo;function Uo(e,t,n,i,r){var a=Do.call(this)||this;return a.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},a.message=wa(e,t=t||Da),a.properties=Aa(e,i),a.measurements=Pa(e,r),n&&(a.severityLevel=n),a}function Vo(){var e=Lo.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}e(Vo,Lo=t),e(Ho,Fo=Vo),Ho.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Ho.dataType="PageviewPerformanceData";var Fo,Bo,Wo=Ho;function Ho(e,t,n,i,r,a,o){var s=Fo.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},s.url=Sa(e,n),s.name=Na(e,t)||Da,s.properties=Aa(e,r),s.measurements=Pa(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}Bo={Verbose:0,0:"Verbose",Information:1,1:"Information",Warning:2,2:"Warning",Error:3,3:"Error",Critical:4,4:"Critical"},zo.create=function(e,t,n,i,r,a){if(n=Na(i,n)||Da,q(e)||q(t)||q(n))throw Error("Input doesn't contain all required fields");var i="",o=(e[La]&&(i=e[La],delete e[La]),{name:n,time:Je(new Date),iKey:i,ext:a||{},tags:[],data:{},baseType:t,baseData:e});return q(r)||Y(r,function(e,t){o.data[e]=t}),o};var Ko=zo;function zo(){}var Go=function fc(g,h,t,m){j(fc,this,function(e){var u,n=null,f=[],d=!1;function p(){t&&Z(t.getTransmissionControls(),function(e){Z(e,function(e){return e.flush(!0)})})}t&&(u=t.logger),e.trackPageView=function(i,r){var e,a=i.name,o=(!q(a)&&"string"==typeof a||(e=ne(),a=i.name=e&&e.title||""),i.uri);if(!q(o)&&"string"==typeof o||(e=Pt(),o=i.uri=e&&e.href||""),!m.isPerformanceTimingSupported())return g.sendPageViewInternal(i,r),p(),void u.throwInternal(X.WARNING,b.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var s,t,c=!1,l=m.getPerformanceTiming().navigationStart;0<l&&(s=qa(l,+new Date),m.shouldCollectDuration(s)||(s=undefined)),q(r)||q(r.duration)||(t=r.duration),!h&&isNaN(t)||(isNaN(t)&&((r=r||{}).duration=s),g.sendPageViewInternal(i,r),p(),c=!0),r=r||{},f.push(function(){var e,t=!1;try{m.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},m.populatePageViewPerformanceEvent(e),e.isValid||c?(c||(r.duration=e.durationMs,g.sendPageViewInternal(i,r)),d||(g.sendPageViewPerformanceInternal(e,r),d=!0)):(r.duration=s,g.sendPageViewInternal(i,r))):0<l&&6e4<qa(l,+new Date)&&(t=!0,c||(r.duration=6e4,g.sendPageViewInternal(i,r)))}catch(n){u.throwInternal(X.CRITICAL,b.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+S(n),{exception:ie(n)})}return t}),n=n||setInterval(function(){var e=f.slice(0),t=!1;f=[],Z(e,function(e){e()?t=!0:f.push(e)}),0===f.length&&(clearInterval(n),n=null),t&&p()},100)}})},qo=(jo.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+ie(i))}},jo.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(i){return this._logger.warnToConsole("Call to restart failed: "+ie(i)),null}},jo.prototype.startPageVisitTimer=function(e,t){try{var n,i;Fa()&&(null!=Ba(this._logger,this.prevPageVisitDataKeyName)&&ot("Cannot call startPageVisit consecutively without first calling stopPageVisit"),n=new Xo(e,t),i=Ot().stringify(n),Wa(this._logger,this.prevPageVisitDataKeyName,i))}catch(r){this._logger.warnToConsole("Call to start failed: "+ie(r))}},jo.prototype.stopPageVisitTimer=function(){try{var e,t,n;return Fa()?(e=it(),(t=Ba(this._logger,this.prevPageVisitDataKeyName))&&_t()?((n=Ot().parse(t)).pageVisitTime=e-n.pageVisitStartTime,Ha(this._logger,this.prevPageVisitDataKeyName),n):null):null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+ie(i)),null}},jo);function jo(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var Xo=function(e,t){this.pageVisitStartTime=it(),this.pageName=e,this.pageUrl=t},Yo=(Jo.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),i=0,r=0,a=0,o=0;(t||n)&&(t=t?(i=t.duration,r=0===t.startTime?t.connectEnd:qa(t.startTime,t.connectEnd),a=qa(t.requestStart,t.responseStart),o=qa(t.responseStart,t.responseEnd),qa(t.responseEnd,t.loadEventEnd)):(i=qa(n.navigationStart,n.loadEventEnd),r=qa(n.navigationStart,n.connectEnd),a=qa(n.requestStart,n.responseStart),o=qa(n.responseStart,n.responseEnd),qa(n.responseEnd,n.loadEventEnd)),0===i?this._logger.throwInternal(X.WARNING,b.ErrorPVCalc,"error calculating page view performance.",{total:i,network:r,request:a,response:o,dom:t}):this.shouldCollectDuration(i,r,a,o,t)?i<Math.floor(r)+Math.floor(a)+Math.floor(o)+Math.floor(t)?this._logger.throwInternal(X.WARNING,b.ClientPerformanceMathError,"client performance math error.",{total:i,network:r,request:a,response:o,dom:t}):(e.durationMs=i,e.perfTotal=e.duration=ka(i),e.networkConnect=ka(r),e.sentRequest=ka(a),e.receivedResponse=ka(o),e.domProcessing=ka(t),e.isValid=!0):this._logger.throwInternal(X.WARNING,b.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:r,request:a,response:o,dom:t}))},Jo.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?xt().timing:null},Jo.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?xt().getEntriesByType("navigation")[0]:null},Jo.prototype.isPerformanceNavigationTimingSupported=function(){var e=xt();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},Jo.prototype.isPerformanceTimingSupported=function(){var e=xt();return e&&e.timing},Jo.prototype.isPerformanceTimingDataReady=function(){var e=xt(),e=e?e.timing:0;return e&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},Jo.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=(At()||{}).userAgent,r=!1;if(i)for(var a=0;a<n.length;a++)r=r||!!~i.toLowerCase().indexOf(n[a]);if(r)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},Jo);function Jo(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Qo="duration",Zo="event";function $o(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}e(ts,es=i),ts.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=Oa(e.disableExceptionTracking),e.autoTrackPageVisitTime=Oa(e.autoTrackPageVisitTime),e.overridePageViewDuration=Oa(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Oa(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=Oa(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Oa(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Oa(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=Oa(e.enableDebug),e.disableFlushOnBeforeUnload=Oa(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Oa(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},ts.Version="2.7.4";var es,a=ts;function ts(){var v,y,I,T,C,E=es.call(this)||this;return E.identifier="ApplicationInsightsAnalytics",E.priority=180,E.autoRoutePVDelay=500,j(ts,E,function(h,m){var e=Pt(!0);T=e&&e.href||"",h.getCookieMgr=function(){return o(h.core)},h.processTelemetry=function(a,o){re(h.core,function(){return h.identifier+":processTelemetry"},function(){var e=!1,t=h._telemetryInitializers.length;o=h._getTelCtx(o);for(var n=0;n<t;++n){var i=h._telemetryInitializers[n];if(i)try{if(!1===i.call(null,a)){e=!0;break}}catch(r){o.diagLog().throwInternal(X.CRITICAL,b.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+S(r),{exception:ie(r)},!0)}}e||h.processNext(a,o)},function(){return{item:a}},!a.sync)},h.trackEvent=function(e,t){try{var n=Ko.create(e,Xa.dataType,Xa.envelopeType,h.diagLog(),t);h.core.track(n)}catch(i){h.diagLog().throwInternal(X.WARNING,b.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+S(i),{exception:ie(i)})}},h.startTrackEvent=function(e){try{v.start(e)}catch(t){h.diagLog().throwInternal(X.CRITICAL,b.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+S(t),{exception:ie(t)})}},h.stopTrackEvent=function(e,t,n){try{v.stop(e,undefined,t)}catch(i){h.diagLog().throwInternal(X.CRITICAL,b.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+S(i),{exception:ie(i)})}},h.trackTrace=function(e,t){try{var n=Ko.create(e,Mo.dataType,Mo.envelopeType,h.diagLog(),t);h.core.track(n)}catch(i){h.diagLog().throwInternal(X.WARNING,b.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+S(i),{exception:ie(i)})}},h.trackMetric=function(e,t){try{var n=Ko.create(e,No.dataType,No.envelopeType,h.diagLog(),t);h.core.track(n)}catch(i){h.diagLog().throwInternal(X.CRITICAL,b.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+S(i),{exception:ie(i)})}},h.trackPageView=function(e,t){try{var n=e||{};h._pageViewManager.trackPageView(n,k(k(k({},n.properties),n.measurements),t)),h.config.autoTrackPageVisitTime&&h._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(i){h.diagLog().throwInternal(X.CRITICAL,b.TrackPVFailed,"trackPageView failed, page view will not be collected: "+S(i),{exception:ie(i)})}},h.sendPageViewInternal=function(e,t,n){var i=ne(),i=(i&&(e.refUri=e.refUri===undefined?i.referrer:e.refUri),Ko.create(e,xo.dataType,xo.envelopeType,h.diagLog(),t,n));h.core.track(i)},h.sendPageViewPerformanceInternal=function(e,t,n){e=Ko.create(e,Wo.dataType,Wo.envelopeType,h.diagLog(),t,n);h.core.track(e)},h.trackPageViewPerformance=function(e,t){try{h._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),h.sendPageViewPerformanceInternal(e,t)}catch(n){h.diagLog().throwInternal(X.CRITICAL,b.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+S(n),{exception:ie(n)})}},h.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=ne())&&t.title||""),y.start(e)}catch(n){h.diagLog().throwInternal(X.CRITICAL,b.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+S(n),{exception:ie(n)})}},h.stopTrackPage=function(e,t,n,i){try{var r,a;"string"!=typeof e&&(e=(r=ne())&&r.title||""),"string"!=typeof t&&(t=(a=Pt())&&a.href||""),y.stop(e,t,n,i),h.config.autoTrackPageVisitTime&&h._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(o){h.diagLog().throwInternal(X.CRITICAL,b.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+S(o),{exception:ie(o)})}},h.sendExceptionInternal=function(e,t,n){var i=e.exception||e.error||Error(Da),i=new uo(h.diagLog(),i,e.properties||t,e.measurements,e.severityLevel,e.id).toInterface(),e=Ko.create(i,uo.dataType,uo.envelopeType,h.diagLog(),t,n);h.core.track(e)},h.trackException=function(e,t){try{h.sendExceptionInternal(e,t)}catch(n){h.diagLog().throwInternal(X.CRITICAL,b.TrackExceptionFailed,"trackException failed, exception will not be collected: "+S(n),{exception:ie(n)})}},h._onerror=function(e){var t,n,i,r=e&&e.error,a=e&&e.evt;try{a||(u=te())&&(a=u[Zo]);var o=e&&e.url||(ne()||{}).URL,s=e.errorSrc||"window.onerror@"+o+":"+(e.lineNumber||0)+":"+(e.columnNumber||0),c={errorSrc:s,url:o,lineNumber:e.lineNumber||0,columnNumber:e.columnNumber||0,message:e.message},l=e.message;e.url,e.lineNumber,e.columnNumber,e.error||!Q(l)||"Script error."!==l&&"Script error"!==l?(e.errorSrc||(e.errorSrc=s),h.trackException({exception:e,severityLevel:Bo.Error},c)):(t=uo.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",o,e.lineNumber||0,e.columnNumber||0,r,a,null,s),n=c,i=Ko.create(t,uo.dataType,uo.envelopeType,h.diagLog(),n),h.core.track(i))}catch(f){var u=r?r.name+", "+r.message:"null";h.diagLog().throwInternal(X.CRITICAL,b.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+S(f),{exception:ie(f),errorString:u})}},h.addTelemetryInitializer=function(e){h._telemetryInitializers.push(e)},h.initialize=function(e,t,n,i){if(!h.isInitialized()){if(q(t))throw Error("Error initializing");m.initialize(e,t,n,i),h.setInitialized(!1);var r,a=h._getTelCtx(),o=h.identifier,t=(h.config=a.getExtCfg(o),ts.getDefaultConfig(e)),i=(t!==undefined&&Y(t,function(e,t){h.config[e]=a.getConfig(o,e,t),h.config[e]===undefined&&(h.config[e]=t)}),h.config.isStorageUseDisabled&&(Ma=!1),{instrumentationKey:function(){return e.instrumentationKey},accountId:function(){return h.config.accountId||e.accountId},sessionRenewalMs:function(){return h.config.sessionRenewalMs||e.sessionRenewalMs},sessionExpirationMs:function(){return h.config.sessionExpirationMs||e.sessionExpirationMs},sampleRate:function(){return h.config.samplingPercentage||e.samplingPercentage},sdkExtension:function(){return h.config.sdkExtension||e.sdkExtension},isBrowserLinkTrackingEnabled:function(){return h.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled},appId:function(){return h.config.appId||e.appId}});h._pageViewPerformanceManager=new Yo(h.core),h._pageViewManager=new Go(E,h.config.overridePageViewDuration,h.core,h._pageViewPerformanceManager),h._pageVisitTimeManager=new qo(h.diagLog(),function(e,t,n){h.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},{PageName:e,PageUrl:t})}),h._telemetryInitializers=h._telemetryInitializers||[],i.isBrowserLinkTrackingEnabled()||(r=["/browserLinkSignalR/","/__browserLink/"],h._telemetryInitializers.push(function(e){if(e.baseType===ko.dataType){var t=e.baseData;if(t)for(var n=0;n<r.length;n++)if(t.target&&~t.target.indexOf(r[n]))return!1}return!0})),(v=new ns(h.diagLog(),"trackEvent")).action=function(e,t,n,i){(i=i||{})[Qo]=n.toString(),h.trackEvent({name:e,properties:i})},(y=new ns(h.diagLog(),"trackPageView")).action=function(e,t,n,i,r){(i=q(i)?{}:i)[Qo]=n.toString(),h.sendPageViewInternal({name:e,uri:t,properties:i,measurements:r},i)};var s,c,l,u,f,d=te(),t=typeof history===w&&history?history:ee("history"),p=Pt(!0),g=E;!1===h.config.disableExceptionTracking&&!h.config.autoExceptionInstrumented&&d&&(s=d.onerror,d.onerror=function(e,t,n,i,r){var a=d[Zo],o=s&&s(e,t,n,i,r);return!0!==o&&g._onerror(uo.CreateAutoException(e,t,n,i,r,a)),o},h.config.autoExceptionInstrumented=!0),!1===h.config.disableExceptionTracking&&!0===h.config.enableUnhandledPromiseRejectionTracking&&!h.config.autoUnhandledPromiseInstrumented&&d&&(c=d.onunhandledrejection,d.onunhandledrejection=function(e){var t,n,i=d[Zo],r=c&&c.call(d,e);return!0!==r&&g._onerror(uo.CreateAutoException((t=e)&&t.reason?!Q(n=t.reason)&&N(n.toString)?n.toString():ie(n):t||"",p?p.href:"",0,0,e,i)),r},h.config.autoUnhandledPromiseInstrumented=!0),!0===h.config.enableAutoRouteTracking&&t&&N(t.pushState)&&N(t.replaceState)&&d&&"undefined"!=typeof Event&&(l=E,Z(n,function(e){"AppInsightsPropertiesPlugin"===e.identifier&&(I=e)}),t.pushState=(f=t.pushState,function(){var e=f.apply(this,arguments);return $o(d,_a(l.config.namePrefix+"pushState")),$o(d,_a(l.config.namePrefix+"locationchange")),e}),t.replaceState=(u=t.replaceState,function(){var e=u.apply(this,arguments);return $o(d,_a(l.config.namePrefix+"replaceState")),$o(d,_a(l.config.namePrefix+"locationchange")),e}),d.addEventListener&&(d.addEventListener(l.config.namePrefix+"popstate",function(){$o(d,_a(l.config.namePrefix+"locationchange"))}),d.addEventListener(l.config.namePrefix+"locationchange",function(){var e;I&&I.context&&I.context.telemetryTrace&&(I.context.telemetryTrace.traceID=oi(),e="_unknown_",p&&p.pathname&&(e=p.pathname+(p.hash||"")),I.context.telemetryTrace.name=Na(l.diagLog(),e)),C&&(T=C),C=p&&p.href||"",setTimeout((function(e){l.trackPageView({refUri:e,properties:{duration:0}})}).bind(E,T),l.autoRoutePVDelay)}))),h.setInitialized(!0)}}}),E}var ns=function(a,e){var o=this,s={};o.start=function(e){"undefined"!=typeof s[e]&&a.throwInternal(X.WARNING,b.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),s[e]=+new Date},o.stop=function(e,t,n,i){var r=s[e];isNaN(r)?a.throwInternal(X.WARNING,b.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:e,key:e},!0):(r=qa(r,+new Date),o.action(e,t,r,n,i)),delete s[e],s[e]=undefined}};function is(n){Y(n,function(e,t){se(t)&&("{}"!==JSON.stringify(t)||"callback"===e)||delete n[e]})}function rs(e,t,n){var i=e;if(i){for(;!t(i,n);)if(!(i=i.parentNode)||!i.getAttribute)return null;return i}}function as(e){return"A"===e.nodeName}function os(e){return se(ss(e,"data-bi-dnt"))}function ss(e,t){return rs(e,cs,t)}function cs(e,t){t=e.getAttribute(t);return se(t)||""===t}function ls(e){return"["+e+"]"}function us(n,i,r,a){var o;return function(){var e=arguments,t=!o;clearTimeout(o),o=setTimeout(function(){o=0,i&&i.apply(a,e)},r),t&&n&&n.apply(a,e)}}function fs(){var e=te(),t=ne();return t&&e?{h:parseInt(t.body.scrollLeft||t.documentElement.scrollLeft||e.pageXOffset,10),v:parseInt(t.body.scrollTop||t.documentElement.scrollTop||e.pageYOffset,10)}:{h:0,v:0}}function ds(){var e,t={h:0,w:0},n=te(),i=ne();return n&&i&&n.screen&&(e=i.body||{},i=i.documentElement||{},t.h=n.innerHeight||e.clientHeight||i.clientHeight,t.w=n.innerWidth||e.clientWidth||i.clientWidth),t}var ps,gs={CLICKLEFT:"CL",CLICKRIGHT:"CR",CLICKMIDDLE:"CM",SCROLL:"S",ZOOM:"Z",RESIZE:"R",KEYBOARDENTER:"KE",KEYBOARDSPACE:"KS",OTHER:"O"},hs=((t=ps={})[t.PAGE_ACTION=0]="PAGE_ACTION",t[t.CONTENT_UPDATE=1]="CONTENT_UPDATE",{BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0});function ms(e){if(e&&e.attributes)try{var t=e.getAttribute("data-dc");return se(t)&&"pii"==t.toLowerCase()}catch(n){return}}function vs(e,t){var n,i="",r={},a=[],o=e.cookiesToCollect;!1===e.shareAuthStatus?a=o:Z(o,function(e){"ANON"!==e&&a.push(e)});try{try{mi&&window.varCustomerCookies&&0<window.varCustomerCookies.length&&(a=a.concat(window.varCustomerCookies))}catch(s){t.throwInternal(X.CRITICAL,oe.FailedToGetCookies,"Failed to get cookies ")}Z(a,function(e){r.hasOwnProperty(e)||(r[e]="",hi&&""!==(n=decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(i+=e+"="+n+";"))})}catch(s){t.throwInternal(X.CRITICAL,oe.FailedToGetCookies,"Failed to get cookies ")}return i}function ys(t){!function n(e){var t=ne()||{};/in/.test(t.readyState)?setTimeout(function(){n(e)},100):e.call()}(function(){var e;hi&&"complete"===document.readyState?t():(e=te())&&(e.addEventListener?e.addEventListener("load",function(){t()}):e.attachEvent&&e.attachEvent("onload",function(){t()}))})}var Is={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},Ts={parentId:"parentId",parentName:"parentName"},Cs={parentId:"pI",parentName:"pN"},Es=(f.prototype.getMetadata=function(){var e={},t={};return hi&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),ce(!0,t,e)},f.prototype.getVisibleContent=function(){var e,t,n,i,r=ds(),a={top:0,bottom:r.h,left:0,right:r.w},o=null,s=[];if(o=hi?document.querySelectorAll(ls(this._contentBlobFieldNames.areaName)+","+ls(this._contentBlobFieldNames.slotNumber)+","+ls(this._config.biBlobAttributeTag)):o)for(var c=0;c<o.length;c++){var l,u=o[c];!os(u)&&(e=a,0,t=(i=u.getBoundingClientRect()).left,n=i.top,l=i.right,i=i.bottom,0<Math.max(0,Math.min(l,e.right)-Math.max(t,e.left))*Math.max(0,Math.min(i,e.bottom)-Math.max(n,e.top)))&&(l=this.getElementContent(u,ps.CONTENT_UPDATE))&&s.push(l)}return s},f.prototype.getElementContent=function(e,t){if(!e)return{};var n,i,r,a={};if(this._isTracked(e))if(this._isTrackedWithDataM(e)){i=(n=e).getAttribute(this._config.biBlobAttributeTag);try{a=JSON.parse(i)}catch(o){this._traceLogger.throwInternal(X.CRITICAL,oe.CannotParseBiBlobValue,"Can not parse "+i)}}else this._isTrackedWithDataBi(e)&&(a=ce(a,this._populateElementContentwithDataBi(r=e,e)));else if(i=(n=ss(e,this._config.biBlobAttributeTag))?n.getAttribute(this._config.biBlobAttributeTag):i)try{a=JSON.parse(i)}catch(o){this._traceLogger.throwInternal(X.CRITICAL,oe.CannotParseBiBlobValue,"Can not parse "+i)}else r=rs(e,this._isTrackedWithDataBi),a=ce(a,this._populateElementContentwithDataBi(r,e));return is(a),this._config.autoCapture.lineage&&t===ps.PAGE_ACTION&&(a=ce(a,this.getLineageDetails(e))),this._config.autoPopulateParentIdAndParentName?ce(a,this._getParentDetails(n||r,a)):a},f.prototype.getLineageDetails=function(e){for(var t,n,i,r=[],a=[],o=this._config.biBlobAttributeTag,s="data-module-id";e;){var c=e.getAttribute(o)||e[o],l=e.getAttribute(s)||e[s];if(c){try{var u=JSON.parse(c)}catch(f){this._traceLogger.throwInternal(X.CRITICAL,oe.CannotParseDataAttribute,"Can not parse "+c)}u&&(n=u.cN||u.cT,i=u.id||undefined,(n||i)&&(r.push(n),l&&(t=n),a.push(i)))}else n=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),i=e.getAttribute(this._contentBlobFieldNames.id)||undefined,(n||i)&&(r.push(n),l&&(t=n),a.push(i));e=e.parentElement}return{lineage:r.join(">"),lineageById:a.join(">"),lineageContainerName:t}},f.prototype._populateElementContentwithDataBi=function(e,t){var n={};if(!e){if(!this._config.useDefaultContentName)return n;e=t}var i=ss(e,this._contentBlobFieldNames.areaName),i=ce({},this._getAreaContent(i)),r=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",t=this._getDefaultContentName(t,this._config.useDefaultContentName);(n={id:e.getAttribute(this._contentBlobFieldNames.id)||e.id||"",aN:i.areaName,sN:e.getAttribute(this._contentBlobFieldNames.slotNumber),cN:r||e.getAttribute(this._contentBlobFieldNames.contentName)||t||e.getAttribute("alt")||"",cS:e.getAttribute(this._contentBlobFieldNames.contentSource)||i.contentSource,tN:i.templateName,pid:e.getAttribute(this._contentBlobFieldNames.productId),cT:e.getAttribute(this._contentBlobFieldNames.contentType)||i.type,pI:e.getAttribute(this._contentBlobFieldNames.parentId),pN:e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&n.aN&&n.sN&&n.cN||this._traceLogger.throwInternal(X.WARNING,oe.InvalidContentBlob,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(n={contentId:n.id,areaName:n.aN,slotNumber:n.sN,contentName:n.cN,contentSource:n.cS,templateName:n.tN,productId:n.pid,contentType:n.cT,parentId:n.pI,parentName:n.pN});for(var a,o=0;o<e.attributes.length;o++)(a=e.attributes[o]).name!==this._contentBlobFieldNames.id&&a.name!==this._contentBlobFieldNames.areaName&&a.name!==this._contentBlobFieldNames.slotNumber&&a.name!==this._contentBlobFieldNames.contentName&&a.name!==this._contentBlobFieldNames.contentSource&&a.name!==this._contentBlobFieldNames.templateName&&a.name!==this._contentBlobFieldNames.productId&&a.name!==this._contentBlobFieldNames.contentType&&a.name!==this._contentBlobFieldNames.parentId&&a.name!==this._contentBlobFieldNames.parentName&&~a.name.indexOf("data-bi-")&&(n[a.name.replace("data-bi-","")]=a.value);return n},f.prototype._getMetaDataFromDOM=function(e,t){var n={};if(hi)for(var i=document.querySelectorAll("meta"),r=0;r<i.length;r++){var a=i[r];a.name&&!a.name.toLowerCase().indexOf(e)&&(n[t?a.name.replace(e,""):a.name]=a.content)}return n},f.prototype._getAreaContent=function(e){if(e)return{areaName:e.getAttribute(this._contentBlobFieldNames.areaName),templateName:e.getAttribute(this._contentBlobFieldNames.templateName),contentSource:e.getAttribute(this._contentBlobFieldNames.contentSource),product:e.getAttribute(this._contentBlobFieldNames.productId),type:e.getAttribute(this._contentBlobFieldNames.contentType)}},f.prototype._getDefaultContentName=function(e,t){if(!1===t||ms(e)||!e.tagName)return"";var n,i=ne()||{};switch(e.tagName){case"A":n=i.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":n=e.alt;break;default:n=e.value||e.name||e.alt||e.innerText||e.id}return n.substring(0,200)},f.prototype._getParentDetails=function(e,t){var n=(this._contentBlobFieldNames.isShortNames?Cs:Ts).parentId,i=(this._contentBlobFieldNames.isShortNames?Cs:Ts).parentName,r=t[n],t=t[i];return r||t||!e?{}:this._populateParentInfo(e,n,i)},f.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name)return!0;return!1},f.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(~t[n].name.indexOf("data-bi-"))return!0;return!1},f.prototype._isTracked=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name||~t[n].name.indexOf("data-bi-"))return!0;return!1},f.prototype._populateParentInfo=function(e,t,n){var i,r,a={},o=this._config.biBlobAttributeTag,s=rs(e.parentElement,this._isTracked);if(s){o=s.getAttribute(o)||e[o];if(o){try{var c=JSON.parse(o)}catch(l){this._traceLogger.throwInternal(X.CRITICAL,oe.CannotParseDataAttribute,"Can not parse "+o)}c&&(i=c.id,r=c.cN)}else i=s.getAttribute(this._contentBlobFieldNames.id),r=s.getAttribute(this._contentBlobFieldNames.contentName);i&&(a[t]=i),r&&(a[n]=r)}return a},f);function f(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?Is.shortNames:Is.longNames}var bs={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},Ns=(Ss.prototype.pageView=function(){this._analyticsPlugin.capturePageView({isAuto:!0})},Ss.prototype.onLoad=function(){var e=this;ys(function(){e._analyticsPlugin.capturePageViewPerformance({isAuto:!0}),e._analyticsPlugin.captureContentUpdate({isAuto:!0,isDomComplete:!0})})},Ss.prototype.click=function(){var e,t=this,n=te(),i=ne();n&&n.addEventListener?(e=~navigator.appVersion.indexOf("MSIE")?"click":"mousedown",n.addEventListener(e,function(e){t._processClick(e)},!1),n.addEventListener("keyup",function(e){t._processClick(e)},!1)):i&&i.attachEvent&&(i.attachEvent("onclick",function(e){t._processClick(e)}),i.attachEvent("keyup",function(e){t._processClick(e)}))},Ss.prototype.scroll=function(e){var t=this,e=us(null,function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:gs.SCROLL})},e.scroll,this),n=te();n&&(n.addEventListener?n.addEventListener("scroll",e):window.attachEvent&&window.attachEvent("onscroll",e))},Ss.prototype.maxScroll=function(t){var e=function(){var e=fs();t.v=(t.v>e.v?t:e).v},n=te();n&&(n.addEventListener?n.addEventListener("scroll",e):n.attachEvent&&n.attachEvent("onscroll",e))},Ss.prototype.resize=function(e){var t=this,e=us(function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:gs.RESIZE})},null,e.resize,this),n=te();n&&(n.addEventListener?n.addEventListener("resize",e):n.attachEvent&&n.attachEvent("onresize",e))},Ss.prototype.onUnload=function(){var e,t=this._analyticsPlugin;function n(){t&&t.capturePageUnload({isAuto:!0})}t&&(ti(n,e=((t||{}).core||{}).config.disablePageUnloadEvents),ni(n,e))},Ss.prototype._processClick=function(e){var t={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},n=te(),i=(e=e||n.event).srcElement||e.target,r={isAuto:!0,clickCoordinateX:e.pageX,clickCoordinateY:e.pageY},a="which"in(n=e)?3===n.which:"button"in n?2===n.button:void 0;if(a)r.actionType=gs.CLICKRIGHT;else if("which"in(n=e)?1===n.which:"button"in n&&1===n.button)r.actionType=gs.CLICKLEFT;else if("keyCode"in e&&13===e.keyCode)r.actionType=gs.KEYBOARDENTER;else if("keyCode"in e&&32===e.keyCode)r.actionType=gs.KEYBOARDSPACE;else{if(!("which"in(n=e)?2===n.which:"button"in n&&4===n.button))return;r.actionType=gs.CLICKMIDDLE}for(;i&&i.tagName;){if(t[(i=i.control&&t[i.control.tagName.toUpperCase()]?i.control:i).tagName.toUpperCase()]){"INPUT"==i.tagName.toUpperCase()&&!bs[i.type.toUpperCase()]||this._analyticsPlugin.capturePageAction(i,r,{},a);break}i=i.parentElement||i.parentNode}},Ss);function Ss(e,t){this._analyticsPlugin=e,this._traceLogger=t}function ws(e,t,n){var i="";return t&&t[n]?i=t[n]:e&&(i=e[n]),i}n.Behavior=void 0,(i=n.Behavior||(n.Behavior={}))[i.UNDEFINED=0]="UNDEFINED",i[i.NAVIGATIONBACK=1]="NAVIGATIONBACK",i[i.NAVIGATION=2]="NAVIGATION",i[i.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",i[i.APPLY=4]="APPLY",i[i.REMOVE=5]="REMOVE",i[i.SORT=6]="SORT",i[i.EXPAND=7]="EXPAND",i[i.REDUCE=8]="REDUCE",i[i.CONTEXTMENU=9]="CONTEXTMENU",i[i.TAB=10]="TAB",i[i.COPY=11]="COPY",i[i.EXPERIMENTATION=12]="EXPERIMENTATION",i[i.PRINT=13]="PRINT",i[i.SHOW=14]="SHOW",i[i.HIDE=15]="HIDE",i[i.MAXIMIZE=16]="MAXIMIZE",i[i.MINIMIZE=17]="MINIMIZE",i[i.BACKBUTTON=18]="BACKBUTTON",i[i.STARTPROCESS=20]="STARTPROCESS",i[i.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",i[i.COMPLETEPROCESS=22]="COMPLETEPROCESS",i[i.SCENARIOCANCEL=23]="SCENARIOCANCEL",i[i.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",i[i.DOWNLOAD=41]="DOWNLOAD",i[i.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",i[i.SEARCH=61]="SEARCH",i[i.SEARCHINITIATE=62]="SEARCHINITIATE",i[i.TEXTBOXINPUT=63]="TEXTBOXINPUT",i[i.PURCHASE=80]="PURCHASE",i[i.ADDTOCART=81]="ADDTOCART",i[i.VIEWCART=82]="VIEWCART",i[i.ADDWISHLIST=83]="ADDWISHLIST",i[i.FINDSTORE=84]="FINDSTORE",i[i.CHECKOUT=85]="CHECKOUT",i[i.REMOVEFROMCART=86]="REMOVEFROMCART",i[i.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",i[i.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",i[i.VIEWCARTPAGE=89]="VIEWCARTPAGE",i[i.VIEWPDP=90]="VIEWPDP",i[i.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",i[i.INTENTTOBUY=92]="INTENTTOBUY",i[i.PUSHTOINSTALL=93]="PUSHTOINSTALL",i[i.SIGNIN=100]="SIGNIN",i[i.SIGNOUT=101]="SIGNOUT",i[i.SOCIALSHARE=120]="SOCIALSHARE",i[i.SOCIALLIKE=121]="SOCIALLIKE",i[i.SOCIALREPLY=122]="SOCIALREPLY",i[i.CALL=123]="CALL",i[i.EMAIL=124]="EMAIL",i[i.COMMUNITY=125]="COMMUNITY",i[i.SOCIALFOLLOW=126]="SOCIALFOLLOW",i[i.VOTE=140]="VOTE",i[i.SURVEYINITIATE=141]="SURVEYINITIATE",i[i.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",i[i.REPORTAPPLICATION=143]="REPORTAPPLICATION",i[i.REPORTREVIEW=144]="REPORTREVIEW",i[i.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",i[i.CONTACT=160]="CONTACT",i[i.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE",i[i.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",i[i.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",i[i.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",i[i.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",i[i.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",i[i.CHATINITIATE=180]="CHATINITIATE",i[i.CHATEND=181]="CHATEND",i[i.TRIALSIGNUP=200]="TRIALSIGNUP",i[i.TRIALINITIATE=201]="TRIALINITIATE",i[i.SIGNUP=210]="SIGNUP",i[i.FREESIGNUP=211]="FREESIGNUP",i[i.PARTNERREFERRAL=220]="PARTNERREFERRAL",i[i.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL",i[i.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL",i[i.SHOPPINGINTENT=232]="SHOPPINGINTENT",i[i.VIDEOSTART=240]="VIDEOSTART",i[i.VIDEOPAUSE=241]="VIDEOPAUSE",i[i.VIDEOCONTINUE=242]="VIDEOCONTINUE",i[i.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",i[i.VIDEOJUMP=244]="VIDEOJUMP",i[i.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",i[i.VIDEOBUFFERING=246]="VIDEOBUFFERING",i[i.VIDEOERROR=247]="VIDEOERROR",i[i.VIDEOMUTE=248]="VIDEOMUTE",i[i.VIDEOUNMUTE=249]="VIDEOUNMUTE",i[i.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",i[i.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",i[i.VIDEOREPLAY=252]="VIDEOREPLAY",i[i.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",i[i.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK",i[i.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",i[i.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",i[i.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",i[i.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",i[i.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",i[i.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",i[i.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",i[i.JOINTEAMSMEETINGEVENT=262]="JOINTEAMSMEETINGEVENT",i[i.IMPRESSION=280]="IMPRESSION",i[i.CLICK=281]="CLICK",i[i.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",i[i.ADBUFFERING=283]="ADBUFFERING",i[i.ADERROR=284]="ADERROR",i[i.ADSTART=285]="ADSTART",i[i.ADCOMPLETE=286]="ADCOMPLETE",i[i.ADSKIP=287]="ADSKIP",i[i.ADTIMEOUT=288]="ADTIMEOUT",i[i.OTHER=300]="OTHER",As.prototype._setBasicProperties=function(e,t){var n;e.ver="1.0",e.id=this._id.getLastPageViewId(),se(e.name)||(e.name=(n=this._config,t&&t.pageName?t.pageName:n.callback&&"function"==typeof n.callback.pageName?n.callback.pageName():n.coreData&&n.coreData.pageName?n.coreData.pageName:(t=((Pt()||{}).pathname||"").split("/"))&&""!==t[t.length-1]?t[t.length-1]:"Undefined")),!se(e.uri)&&mi&&(e.uri=function(e,t){if(e.coreData&&e.coreData.requestUri&&""!==e.coreData.requestUri)return e.coreData.requestUri;if(!t)return null;var n,i,r,a=t.protocol+"//"+(t.hostname||t.host)+(se(t.port)?":"+t.port:"")+t.pathname;return e.urlCollectQuery&&((n=t.search)||-1!=(r=(i=t.hash||"").indexOf("?"))&&(n=i.slice(r)),a+=n),e.urlCollectHash&&(a+=t.hash||""),a}(this._config,Pt()))},As.prototype._setCommonProperties=function(e,t,n){var i=this;i._setBasicProperties(e,n),i._setPageTags(e,n),i._pageTypeMetaTag=ws(i.metaTags,i._config.coreData,"pageType"),i._marketMetaTag=ws(i.metaTags,i._config.coreData,"market"),i._behaviorMetaTag=ws(i.metaTags,i._config.coreData,"behavior"),se(n.pageType)&&(e.pageType=n.pageType),se(i._pageTypeMetaTag)&&!se(e.pageType)&&(e.pageType=i._pageTypeMetaTag),se(i._marketMetaTag)&&(e.market=i._marketMetaTag),e.isLoggedIn=(n=i._config).callback&&"function"==typeof n.callback.signedinStatus?n.callback.signedinStatus():n.isLoggedIn,t.cookieEnabled=_n()},As.prototype._setPageTags=function(e,t){var n=this;n._pageTags={},n.metaTags&&(n._pageTags.metaTags=n._pageTags.metaTags||{},Y(n.metaTags,function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(n._pageTags.metaTags[e]=t)})),n._config.coreData&&n._config.coreData.pageTags&&(n._pageTags=ce(!0,n._pageTags,n._config.coreData.pageTags)),n._pageTagsCallback&&(n._pageTags=ce(!0,n._pageTags,n._pageTagsCallback())),se(t.pageTags)&&(n._pageTags=ce(!0,n._pageTags,t.pageTags)),e.properties=e.properties||{},e.properties.pageTags=n._pageTags},As.prototype._getBehavior=function(e){var t;return e&&se(e.behavior)?t=e.behavior:se(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},As.prototype._getValidBehavior=function(e){if(se(e)){var t=parseInt(e);if((e=isNaN(t)?n.Behavior[e]:t)in n.Behavior)return e}return 0};t=As;function As(e,t,n,i,r,a,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=n,this._id=i,this._pageTagsCallback=r,this.metaTags=a,this._traceLogger=o,this._pageTags={}}e(_s,Ps=t),_s.prototype.capturePageView=function(e,t){e=se(e)?e:{};var n={},t=se(t)?t:{},i=(this._setCommonProperties(n,t,e),n.refUri=(se(e.referrerUri)?e:this._config.coreData).referrerUri,n.isManual=!e.isAuto,vs(this._config,this._traceLogger));i&&(t.cookies=i),t.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(n,t)};var Ps,xs=_s;function _s(){return null!==Ps&&Ps.apply(this,arguments)||this}e(Rs,Os=t),Rs.prototype.trackPageAction=function(e,t){var n={web:{}},i=(n.web.isManual=e.isManual,{name:"Ms.Web.PageAction",baseType:"PageActionData",ext:n,data:{},baseData:{},latency:ae.Normal});G(e.sync)||(i.sync=e.sync),i.baseData.name=e.name,i.baseData.uri=e.uri,i.baseData.market=e.market,i.baseData.pageType=e.pageType,i.baseData.isLoggedIn=e.isLoggedIn,i.baseData.id=e.id,i.baseData.properties=e.properties,i.baseData.ver=e.ver,i.baseData.actionType=e.actionType,i.baseData.behavior=e.behavior,i.baseData.clickCoordinates=e.clickCoordinates,i.baseData.content=e.content,i.baseData.contentVer=e.contentVer,i.baseData.targetUri=e.targetUri,Y(t,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},Rs.prototype.capturePageAction=function(e,t,n,i){t=se(t)?t:{};var r={},n=se(n)?n:{},a=(this._setCommonProperties(r,n,t),r.isManual=!t.isAuto,r.behavior=this._getBehavior(t),{}),o=(i?r.behavior=9:(i=this._config||{},!(e&&G(i.syncPageActionNavClick)||i.syncPageActionNavClick)||t.actionType!==gs.CLICKLEFT&&t.actionType!==gs.KEYBOARDENTER||"a"!=e.tagName.toLowerCase()||(i=(e.getAttribute("href")||"").toLowerCase())&&(qe(i,"https:")||qe(i,"http:")||qe(i,".")||qe(i,"/"))&&(r.sync=3)),e&&(r.targetUri=function(t){var e="";switch(t.tagName){case"A":case"AREA":e=t.href||"";break;case"IMG":e=function(){if(t){var e=rs(t,as);if(e&&1===e.length){if(e[0].href)return e[0].href;if(e[0].src)return e[0].src}}return""}();break;case"INPUT":var n=t.type;n&&hs[n.toUpperCase()]&&(n=Pt()||{},e=t.form?t.form.action||n.pathname||"":n.pathname||"")}return e}(e),(a=ce(a=this._contentHandler.getElementContent(e,ps.PAGE_ACTION),this._getCustomTags(e)))&&a.bhvr&&!se(t.behavior)&&(i="bhvr",(o=a)&&o[i]&&(s=o[i],delete o[i]),i=s,r.behavior=this._getValidBehavior(i))),se(t.actionType)&&(r.actionType=t.actionType),se(t.clickCoordinateX)&&se(t.clickCoordinateY)&&(r.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),se(t.targetUri)&&(r.targetUri=t.targetUri),r.contentVer="2.0",this._config.callback.pageActionContentTags),s=(r.content=ls(JSON.stringify(ce(t.content||a,"function"==typeof o?o(e):{},t&&t.contentTags?t.contentTags:{}))),n.timeToAction=this._getTimeToClick(),n.refUri=se(t.refUri)?t.refUri:this._config.coreData.referrerUri,vs(this._config,this._traceLogger));s&&(n.cookies=s),this.trackPageAction(r,n)},Rs.prototype._getCustomTags=function(e){for(var t,n={};e;){if(!ms(e))for(var i in e.attributes)i&&e.attributes[i]&&(t=e.attributes[i].name)&&!t.toLowerCase().indexOf("ms.")&&(n[t]=e.attributes[i].value);e=e.parentElement||e.parentNode}return n},Rs.prototype._getTimeToClick=function(){var e=xt();if(e&&e.timing){e=e.timing.navigationStart;if(e&&0!==e)return(new Date).getTime()-e}return-1};var Os,ks=Rs;function Rs(){return null!==Os&&Os.apply(this,arguments)||this}e(Ms,Ds=t),Ms.prototype.trackContentUpdate=function(t,e){var n={web:{}},i=(n.web.isManual=t.isManual,{name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:n,data:{},baseData:{},latency:ae.RealTime});Z(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],function(e){i.baseData[e]=t[e]}),Y(e,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},Ms.prototype.captureContentUpdate=function(e,t){e=se(e)?e:{};var n={},t=se(t)?t:{},i=(this._setCommonProperties(n,t,e),n.behavior=this._getBehavior(e),se(e.actionType)&&(n.actionType=e.actionType),ds()),r=fs(),i=(n.pageHeight=hi?document.body.scrollHeight:null,n.vpHeight=i.h,n.vpWidth=i.w,n.vScrollOffset=r.v,n.hScrollOffset=r.h,n.contentVer="2.0",n.isManual=!e.isAuto,this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent()));i&&(n.content=i),se(e.isDomComplete)?t.isDomComplete=e.isDomComplete:t.isDomComplete=!1,this.trackContentUpdate(n,t)},Ms.prototype._getContentFormatted=function(e){return se(e)?"[object Array]"===Object.prototype.toString.call(e)?JSON.stringify(e):ls(JSON.stringify(e)):undefined};var Ds,Ls=Ms;function Ms(){return null!==Ds&&Ds.apply(this,arguments)||this}e(Fs,Us=t),Fs.prototype.trackPageUnload=function(e,t){var n={web:{}},i=(n.web.isManual=e.isManual,{name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:n,data:{},baseData:{},latency:ae.RealTime}),n=this._config||{};(G(n.syncUnloadAction)||n.syncUnloadAction)&&(i.sync=3),i.baseData.name=e.name,i.baseData.uri=e.uri,i.baseData.id=e.id,i.baseData.properties=e.properties,i.baseData.ver=e.ver,i.baseData.market=e.market,i.baseData.pageType=e.pageType,i.baseData.isLoggedIn=e.isLoggedIn,Y(t,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},Fs.prototype.capturePageUnload=function(e,t){e=se(e)?e:{};var n={},t=se(t)?t:{},i=hi?document.body.scrollHeight:0;this._setBasicProperties(n,e),n.isManual=!e.isAuto,t.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),t.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+i.toString(),t.vpHeight=ds().h,t.vScrollOffset=e.vScrollOffset||this._maxScroll.v,mi&&(e=(i=xt())?i.timing:null)&&e.loadEventStart&&e.navigationStart&&0<e.loadEventStart&&(t.pageLoadTime=e.loadEventStart-e.navigationStart),this.trackPageUnload(n,t)};var Us,Vs=Fs;function Fs(e,t,n,i,r,a){var o=Us.call(this,e,t,null,n,{},{},i)||this;return o._webAnalyticsPlugin=e,o._config=t,o._id=n,o._traceLogger=i,o._timestamp=r,o._maxScroll=a,o}e(Hs,Bs=t),Hs.prototype.capturePageViewPerformance=function(e,t){e=se(e)?e:{};var n={},t=se(t)?t:{};this._setBasicProperties(n,e),this._setPageTags(n,e),n.isManual=!e.isAuto,t.behavior=this._getBehavior(e),t.vpHeight=e.vpHeight,t.vpWidth=e.vpWidth,t.framework=e.framework,t.systemTiming=e.systemTiming,t.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(n),this._webAnalyticsPlugin.trackPageViewPerformance(n,t)};var Bs,Ws=Hs;function Hs(){return null!==Bs&&Bs.apply(this,arguments)||this}function d(e){this.core=e,this.appUserId=null,this.firstPageView=!1,this._cookieMgr=o(e),this.lastPageViewId=bi(),this.traceId=this.createTraceId()}d.visitorId=function(){return Ei(o(null),"MUID")},d.prototype.createTraceId=function(){return bi().replace(/-/g,"")},d.prototype.getTraceId=function(){return this.traceId},d.prototype.getLastPageViewId=function(){return this.lastPageViewId},d.prototype.initializeIds=function(){this.firstPageView?(this.traceId=this.createTraceId(),this.lastPageViewId=bi()):this.firstPageView=!0},d.prototype.getMuidUserId=function(){var e=Ei(this._cookieMgr,"MUID");return e&&e.length?"t:"+e:e},d.prototype.setAppUserId=function(e){if(this.appUserId=null,e){for(var t=0;t<d.userIdPrefixes.length;t++)if(d.userIdPrefixes[t]===e.substring(0,2)){this.appUserId=e;break}this.appUserId}},d.prototype.setDeviceClass=function(e){e&&(this.deviceClass=e)},d.prototype.getDeviceClass=function(){return this.deviceClass},d.prototype.getAppUserId=function(){return this.appUserId},d.prototype.syncMuid=function(e){var t=Pt();return!(!t||!e||(t=(t.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",(e=ne())&&((e=e.createElement("IMG")).style.display="none",e.src=t,e.hidden="",e["aria-hidden"]="true",e.role="presentation"),0))},d.prototype.getMuidHost=function(e){return{"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"}[e]},d.userIdPrefixes=["c:","i:","w:"];var Ks=d;function zs(){this._timers=[]}zs.prototype._recordTimeSpan=function(e,t){var n=(new Date).getTime();if(t)return n-this._timers[e];this._timers[e]=n};var Gs,qs=zs,js=(e(Xs,Gs=a),Xs);function Xs(){var l,u,f,d,p,g,h,m,v,y,I=Gs.call(this)||this,T=(I.identifier="WebAnalyticsPlugin",I.version="3.1.11",{h:0,v:0}),i=!1;return j(Xs,I,function(s,c){function n(e){var t={};return e.isManual!==undefined&&(t.web={},t.web.isManual=e.isManual===undefined||e.isManual,delete e.isManual),t}s._telemetryInitializers=s._telemetryInitializers||[],s.updateCoreDataConfig=function(e){h.coreData=ce(!0,h.coreData,e)},s.refreshMetadata=function(){var e=v.getMetadata();l.metaTags=e,f.metaTags=e,u.metaTags=e,p.metaTags=e},s.initialize=function(e,t,n){var i=t,r=(e.extensionConfig=e.extensionConfig||[],e.extensionConfig[s.identifier]=e.extensionConfig[s.identifier]||{},s._config=h=function(e){var n,t,i={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:hi?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},r=[];if(Y(i,function(e,t){Ke(t)&&r.push(e)}),e)return t=r,is(n=e),Z(t,function(e,t){Ke(n[e])?is(n[e]):delete n[e]}),ce(!0,i,e)}(e.extensionConfig[s.identifier]),h.autoCapture),a=i.getWParam;if(i.getWParam=function(){var e=0;return h.mscomCookies&&(e|=1),e|a()},e.extensionConfig[s.identifier].disableExceptionTracking=!r.jsError,c.initialize(e,t,n),v=v||new Es(h,s.diagLog()),y=y||new Ns(s,s.diagLog()),h.manageCv){for(var o=0;o<n.length;o++)if("CorrelationVectorPlugin"===n[o].identifier){h.manageCv=!0,g=n[o];break}g||(s.diagLog().throwInternal(X.WARNING,oe.CVPluginNotAvailable,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),h.manageCv=!1)}s.id=new Ks(t),m=new qs;i=v.getMetadata();l=new xs(I,h,v,s.id,h.callback.pageViewPageTags,i,s.diagLog()),u=new ks(I,h,v,s.id,h.callback.pageActionPageTags,i,s.diagLog()),f=new Ls(I,h,v,s.id,h.callback.contentUpdatePageTags,i,s.diagLog()),d=new Vs(I,h,s.id,s.diagLog(),m,T),p=new Ws(I,h,v,s.id,h.callback.pageViewPageTags,i,s.diagLog()),h.syncMuid&&ys(function(){var e=s.id.getMuidHost(h.muidDomain);s.id.syncMuid(e)}),r.pageView&&y.pageView(),r.onLoad&&y.onLoad(),r.click&&y.click(),r.scroll&&y.scroll(h.debounceMs),r.resize&&y.resize(h.debounceMs),(r.onUnload||h.manualPageUnload)&&y.maxScroll(T),r.onUnload&&y.onUnload()},s.processTelemetry=function(e,t){Ai(e,s.identifier);for(var n=e,e=("PageviewData"===n.baseType?(n.name="Ms.Web.PageView",n.latency=ae.RealTime):"ExceptionData"===n.baseType?(n.name="Ms.Web.ClientError",n.latency=ae.Normal,delete n.baseData.aiDataContract):"PageviewPerformanceData"===n.baseType&&(n.name="Ms.Web.PageViewPerformance",n.latency=ae.Normal,delete n.baseData.isValid,delete n.baseData.durationMs),null),i=("PageviewData"!==n.baseType?h.manageCv&&(e=g.getCv())&&e.increment():h.manageCv&&((e=g.getCv())?e.seed():e=g.getCv()),!1),r=s._telemetryInitializers.length,a=0;a<r;++a){var o=s._telemetryInitializers[a];if(o&&!1===o.call(null,n)){i=!0;break}}i||s.processNext(n,t)},s.addTelemetryInitializer=function(e){s._telemetryInitializers.push(e)},s.trackEvent=function(n,e){n.latency=n.latency||ae.Normal,n.baseData=n.baseData||{},n.data=n.data||{},se(e)&&Y(e,function(e,t){n.data[e]=t}),s.core.track(n)},s.trackPageView=function(e,t){m._recordTimeSpan("dwellTime",!1),T.v=0,i=!1,s.id.initializeIds(),e.id=s.id.getLastPageViewId(),c.sendPageViewInternal(e,t,n(e))},s.capturePageView=function(e,t){l.capturePageView(e,t)},s.trackPageViewPerformance=function(e,t){c.sendPageViewPerformanceInternal(e,t,n(e))},s.capturePageViewPerformance=function(e,t){p.capturePageViewPerformance(e,t)},s.trackException=function(e,t){e.id=e.id||bi(),c.sendExceptionInternal(e,t,n(e))},s.trackPageAction=function(e,t){u.trackPageAction(e,t)},s.capturePageAction=function(e,t,n,i){var r=e;t&&t.isAuto&&se(ss(r,"data-bi-mto"))||os(r)||u.capturePageAction(e,t,n,i)},s.trackContentUpdate=function(e,t){f.trackContentUpdate(e,t)},s.captureContentUpdate=function(e,t){f.captureContentUpdate(e,t)},s.trackPageUnload=function(e,t){i||(i=!0,d.trackPageUnload(e,t))},s.capturePageUnload=function(e,t){i||(i=!0,d.capturePageUnload(e,t))},s._populatePageViewPerformance=function(e){s._pageViewPerformanceManager.populatePageViewPerformanceEvent(e)},s.setContentHandler=function(e){v=e},s.setAutoCaptureHandler=function(e){y=e}}),I}var Ys,Js=["snippet","_webAnalytics","_postChannel","_propertyManager","_extensions"],i=(e(g,Ys=E),g.prototype.initialize=function(a,o){var s=this,c=this;re(c,function(){return"ApplicationInsights:initialize"},function(){var e=[c._propertyManager,c._webAnalytics];if(o&&(e=e.concat(o)),a||ot("You must provide a config object!"),a.channels&&0<a.channels.length){for(var t=!1,n=0;n<a.channels[0].length;n++)if(a.channels[0][n].identifier===c._postChannel.identifier){t=!0;break}t||a.channels[0].push(c._postChannel)}else a.channels=[[c._postChannel]];var i=a.extensionConfig=a.extensionConfig||[];i[c._postChannel.identifier]=a?a.channelConfiguration:{},i[c._propertyManager.identifier]=a?a.propertyConfiguration:{},i[c._webAnalytics.identifier]=a?a.webAnalyticsConfiguration:{};try{Ys.prototype.initialize.call(s,a,e)}catch(r){c.logger.throwInternal(X.CRITICAL,oe.FailedToInitializeSDK,"Failed to initialize SDK."+ie(r))}},function(){return{config:a,extensions:o}})},g.prototype.getPropertyManager=function(){return this._propertyManager},g.prototype.getPostChannel=function(){return this._postChannel},g.prototype.getWebAnalyticsExtension=function(){return this._webAnalytics},g.prototype.addTelemetryInitializer=function(e){this._webAnalytics.addTelemetryInitializer(e)},g.prototype.trackEvent=function(e,t){this._webAnalytics.trackEvent(e,t)},g.prototype.trackPageView=function(e,t){this._webAnalytics.trackPageView(e,t)},g.prototype.trackPageAction=function(e,t){this._webAnalytics.trackPageAction(e,t)},g.prototype.trackContentUpdate=function(e,t){this._webAnalytics.trackContentUpdate(e,t)},g.prototype.trackPageUnload=function(e,t){this._webAnalytics.trackPageUnload(e,t)},g.prototype.trackException=function(e,t){this._webAnalytics.trackException(e,t)},g.prototype.trackPageViewPerformance=function(e,t){this._webAnalytics.trackPageViewPerformance(e,t)},g.prototype.capturePageView=function(e,t){this._webAnalytics.capturePageView(e,t)},g.prototype.capturePageViewPerformance=function(e,t){this._webAnalytics.capturePageViewPerformance(e,t)},g.prototype.capturePageAction=function(e,t,n,i){this._webAnalytics.capturePageAction(e,t,n,i)},g.prototype.captureContentUpdate=function(e,t){this._webAnalytics.captureContentUpdate(e,t)},g.prototype.capturePageUnload=function(e,t){this._webAnalytics.capturePageUnload(e,t)},g.prototype._onerror=function(e){this._webAnalytics._onerror(e)},g.prototype.emptySnippetQueue=function(n){try{if(n&&(q(this._snippetVersion)||this._snippetVersion,Y(this,function(e,t){Q(e)&&!N(t)&&e&&"_"!==e[0]&&!~Js.indexOf(e)&&(n[e]=t)})),J(n.queue)){for(var e=n.queue.length,t=0;t<e;t++)(0,n.queue[t])();n.queue=undefined,delete n.queue}}catch(i){i&&N(i.toString)&&i.toString()}},g.prototype.updateSnippetDefinitions=function(e){this.snippet=e,this._snippetVersion=""+(e.sv||e.version||"");var i=e,r=this,a=function(e){return e&&!~Js.indexOf(e)};if(i&&r&&i!==r&&Ke(i)&&Ke(r))for(var t in r)!function(t){var e,n;Q(t)&&(N(e=r[t])?a(t)&&(i[t]=(n=t,function(){return r[n].apply(r,arguments)})):a(t)&&(He(i,t)&&delete i[t],s(i,t,function(){return r[t]},function(e){r[t]=e})||(i[t]=e)))}(t)},g);function g(){var e=Ys.call(this)||this;return e._postChannel=new Ea,e._propertyManager=new Vr,e._webAnalytics=new js,e}function Qs(e,t){var n,i=console;i&&i[n=i[n="warn"]?n:"log"]("Failed to initialize AppInsights JS SDK for instance "+(e||"<unknown>")+" - "+t)}try{var Zs,$s="oneDSWeb",ec=x();ec?ec[$s=ec.onedsSDK||$s]!==undefined&&(Zs=ec[$s],(tc=new i).updateSnippetDefinitions(Zs),tc.initialize(Zs.config,Zs.extensions),(ec[$s]=tc).emptySnippetQueue(Zs)):Qs($s,"Missing global/window")}catch(dc){Qs($s,"Unexpected Error: "+ie(dc))}n.ActionType=gs,n.AppInsightsCore=E,n.ApplicationInsights=i,n.BE_PROFILE="BEST_EFFORT",n.CoreUtils=Oi,n.DiagnosticLogger=qt,n.EventLatency=ae,n.EventPersistence={Normal:1,Critical:2},n.EventsDiscardedReason=ue,n.MinChannelPriorty=100,n.NRT_PROFILE="NEAR_REAL_TIME",n.NotificationManager=Fn,n.PostChannel=Ea,n.PropertiesPlugin=Vr,n.RT_PROFILE=Fr,n.TraceLevel={NONE:0,ERROR:1,WARNING:2,INFORMATION:3},n.Utils=_i,n.ValueKind=ci,n.WebAnalytics=js;var t=n,a="__esModule",ec={value:!0},tc=Object.defineProperty;if(tc)try{return tc(t,a,ec)}catch(pc){}typeof ec.value!==undefined&&(t[a]=ec.value)}(this.oneDS=this.oneDS||{});
//# sourceMappingURL=ms.analytics-web-3.1.11.gbl.min.js.map
